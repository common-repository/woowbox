!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=23)}([function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",o=e[3];if(!o)return i;if(t&&"function"==typeof btoa){var n=(a=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(l," */")),s=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[i].concat(s).concat([n]).join("\n")}var a,r,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(i,"}"):i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},n=0;n<this.length;n++){var s=this[n][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var r=e[a];null!=r[0]&&o[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="(".concat(r[2],") and (").concat(i,")")),t.push(r))}},t}},function(e,t,i){var o,n,s={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=o.apply(this,arguments)),n}),r=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var o=r.call(this,e,i);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),c=null,h=0,d=[],p=i(11);function m(e,t){for(var i=0;i<e.length;i++){var o=e[i],n=s[o.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](o.parts[a]);for(;a<o.parts.length;a++)n.parts.push(b(o.parts[a],t))}else{var r=[];for(a=0;a<o.parts.length;a++)r.push(b(o.parts[a],t));s[o.id]={id:o.id,refs:1,parts:r}}}}function u(e,t){for(var i=[],o={},n=0;n<e.length;n++){var s=e[n],a=t.base?s[0]+t.base:s[0],r={css:s[1],media:s[2],sourceMap:s[3]};o[a]?o[a].parts.push(r):i.push(o[a]={id:a,parts:[r]})}return i}function v(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?i.insertBefore(t,o.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),d.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=l(e.insertAt.before,i);i.insertBefore(t,n)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function w(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return i.nc}();o&&(e.attrs.nonce=o)}return f(t,e.attrs),v(e,t),t}function f(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,o,n,s;if(t.transform&&e.css){if(!(s="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var a=h++;i=c||(c=w(t)),o=S.bind(null,i,a,!1),n=S.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",f(t,e.attrs),v(e,t),t}(t),o=k.bind(null,i,t),n=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=w(t),o=C.bind(null,i),n=function(){g(i)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=u(e,t);return m(i,t),function(e){for(var o=[],n=0;n<i.length;n++){var a=i[n];(r=s[a.id]).refs--,o.push(r)}e&&m(u(e,t),t);for(n=0;n<o.length;n++){var r;if(0===(r=o[n]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete s[r.id]}}}};var x,y=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function S(e,t,i,o){var n=i?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var s=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function C(e,t){var i=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function k(e,t,i){var o=i.css,n=i.sourceMap,s=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||s)&&(o=p(o)),n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([o],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}},function(e,t,i){var o=i(20);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(10);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(12);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(13);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(14);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(15);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(18);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(19);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".pgc-rev-utils-preloader{min-height:inherit;position:absolute;top:0;left:0;bottom:0;right:0;overflow:hidden;z-index:100}.pgc-rev-utils-preloader .pgc-rev-utils-static{position:absolute;left:50%;top:50%;border-radius:50%}.pgc-rev-utils-preloader .pgc-rev-utils-spinner{left:50%;top:50%;animation:1s pgc-rev-spinner linear infinite}.pgc-rev-utils-preloader .pgc-rev-utils-spinner .pgc-rev-utils-point{position:absolute;left:50%;top:50%;border-radius:100%}@keyframes pgc-rev-spinner{0%{transform:rotate(-360deg)}100%{transform:rotate(0deg)}}\n",""]),t.locals={classPref:'".pgc-rev-utils-"'}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,o=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,s=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(n=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:o+s.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".pgc-rev-modal-window{position:fixed;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;left:0;right:0;bottom:0;overflow:hidden;opacity:0;will-change:opacity;transition:opacity 0.4s;text-align:center}.pgc-rev-modal-window *{box-sizing:border-box}.pgc-rev-modal-window .pgc-rev-modal-flex{display:inline-block;width:0;height:100%;vertical-align:middle}.pgc-rev-modal-window .pgc-rev-modal-close-button{position:absolute;width:100%;height:100%;z-index:-100;will-change:opacity}\n",""]),t.locals={classPref:'".pgc-rev-modal-"'}},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".pgc-rev-modal-page-page{position:relative;font-size:14px;line-height:1.3;margin:0 10px;padding-bottom:10px;max-width:720px;min-width:260px;background-color:white;border-radius:2px;box-shadow:0 8px 16px rgba(0,0,0,0.15);vertical-align:middle;display:inline-block}.pgc-rev-modal-page-page .pgc-rev-modal-page-close-button{position:absolute;margin:10px;width:24px;height:24px;cursor:pointer;right:0}.pgc-rev-modal-page-page .pgc-rev-modal-page-close-button svg{width:100%;height:100%;vertical-align:baseline !important}\n",""]),t.locals={classPref:'".pgc-rev-modal-page-"'}},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".woowbox-item-info-description-wrap{min-width:200px;min-height:44px;padding:10px 20px 0 20px;float:left;text-align:left;font-size:1em}.woowbox-item-info-description-wrap .woowbox-item-info-item-title{font-size:130%;font-weight:600}.woowbox-item-info-description-wrap .woowbox-item-info-item-description{margin-top:3px;font-size:80%;font-weight:400}.woowbox-item-info-description-wrap .woowbox-item-info-meta-exif-value{line-height:1.5;display:inline-block}.woowbox-item-info-description-wrap .woowbox-item-info-meta-exif-separator{display:inline-block;font-size:100%;margin:0 4px;opacity:0.4}.woowbox-item-info-description-wrap .woowbox-item-info-item-date{font-size:100%;line-height:1.9}.woowbox-item-info-description-wrap .woowbox-item-info-item-date .woowbox-item-info-item-meta-key{float:left;width:40%;min-width:80px}.woowbox-item-info-description-wrap .woowbox-item-info-item-date .woowbox-item-info-item-meta-value{float:left;white-space:nowrap;text-transform:capitalize}\n",""]),t.locals={classPref:'".woowbox-item-info-"'}},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".woowbox-item-share-description-wrap{min-width:270px;min-height:44px;padding:10px 20px 0 20px;float:left;text-align:left}.woowbox-item-share-description-wrap .woowbox-item-share-item-title{display:block;font-size:130%;font-weight:600;line-height:1.3}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap{position:relative;display:inline-block;padding:0 4px;min-width:130px;width:50%;height:42px}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-button{border:1px solid;border-color:rgba(0,0,0,0.18);cursor:pointer;width:100%;height:100%;border-radius:2px;background-color:#fafafa;transition:0.4s}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-button svg{width:40px;height:40px;float:left;vertical-align:baseline !important}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-button .woowbox-item-share-button-title{white-space:nowrap;position:absolute;left:30px;right:0;font-size:15px;font-weight:400;line-height:41px;text-align:center;opacity:0.7;transition:opacity 0.4s}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-button:hover{box-shadow:0 1px 4px rgba(0,0,0,0.2)}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-button:hover .woowbox-item-share-button-title{opacity:1}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-copy-link{background-color:#fafafa;border:solid 1px rgba(0,0,0,0.17);width:100%;height:100%;border-radius:2px;overflow:hidden;position:relative;cursor:pointer;transition:0.4s}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-copy-link .woowbox-item-share-button-title{position:absolute;white-space:nowrap;line-height:41px;left:41px;right:10px;overflow:hidden;opacity:0.7;transition:0.4s}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-copy-link svg{width:40px;height:40px;padding:4px;float:left;transition:fill 0.4s;vertical-align:baseline !important}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-copy-link:hover{box-shadow:0 1px 4px rgba(0,0,0,0.2)}.woowbox-item-share-description-wrap .woowbox-item-share-item-button-wrap .woowbox-item-share-item-copy-link:hover .woowbox-item-share-button-title{opacity:1}\n",""]),t.locals={classPref:'".woowbox-item-share-"'}},function(e,t,i){var o=i(17);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(0)(!1)).push([e.i,".woowbox-lb-modern-autoplay-wrap{position:relative;display:block;margin:auto;top:50%;transform:translateY(-50%)}.woowbox-lb-modern-view{position:fixed;z-index:99999;left:0;right:0;top:0;bottom:0;visibility:hidden;opacity:0;-ms-touch-action:none;touch-action:none;-webkit-text-size-adjust:100%;font-family:Arial, Helvetica, sans-serif;-webkit-transition:opacity 0.4s ease;transition:opacity 0.4s ease, visibility 0.4s ease}.woowbox-lb-modern-view *{box-sizing:border-box !important;line-height:1.4}.woowbox-lb-modern-view.woowbox-lb-modern-lightbox-activate{pointer-events:auto;visibility:visible;opacity:1}.woowbox-lb-modern-view .woowbox-lb-modern-bg{width:100%;height:100%;will-change:opacity;transform:translateZ(0)}.woowbox-lb-modern-view .woowbox-lb-modern-bg.woowbox-lb-modern-deactivate{transition:opacity 300ms}.woowbox-lb-modern-view .woowbox-lb-modern-content{position:absolute;top:0;left:0;width:100%;height:100%}.woowbox-lb-modern-view .woowbox-lb-modern-header{position:absolute;padding:5px;left:0;top:0;width:100%;display:flex;transform:translateY(-100%);transition:transform 0.4s ease-out}.woowbox-lb-modern-view .woowbox-lb-modern-header *{user-select:none}.woowbox-lb-modern-view .woowbox-lb-modern-header.woowbox-lb-modern-show{transform:translateY(0%)}.woowbox-lb-modern-view .woowbox-lb-modern-footer{position:absolute;display:flex;padding:5px;left:0;bottom:0;width:100%;transform:translateY(100%);transition:transform 0.4s ease-out;align-items:center}.woowbox-lb-modern-view .woowbox-lb-modern-footer *{user-select:none}.woowbox-lb-modern-view .woowbox-lb-modern-footer.woowbox-lb-modern-show{transform:translateY(0%)}.woowbox-lb-modern-view .woowbox-lb-modern-free-space{flex:auto}.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap{flex:none;width:400px;max-width:100%;padding:0 5px;height:100%}.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap .woowbox-lb-modern-item-title{text-rendering:auto;color:#fff;font-size:18px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:1.3;box-sizing:content-box;letter-spacing:0;margin-top:1px;text-decoration:none !important;box-shadow:none !important;display:block}.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap a{cursor:pointer}.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap a:hover,.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap a:visited,.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap a:link,.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap a:active{text-decoration:none;box-shadow:none}.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap .woowbox-lb-modern-item-description{color:#969696;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.3}.woowbox-lb-modern-view .woowbox-lb-modern-description-wrap .woowbox-lb-modern-autoplay-wrap{position:relative;flex:none;opacity:0;width:50px;height:100%;transition:opacity 0.4s}.woowbox-lb-modern-view .woowbox-lb-modern-item-menu-wrap{position:relative;flex:none;min-width:40px;height:100%}.woowbox-lb-modern-view .woowbox-lb-modern-caption-wrap{position:relative;flex:none;width:60px;height:100%;font-size:15px;line-height:1;font-weight:400;font-family:serif;color:white}.woowbox-lb-modern-view .woowbox-lb-modern-caption-wrap .woowbox-lb-modern-caption-current{position:absolute;top:50%;left:50%;width:30px;text-align:right;transform:translate(-100%, -70%);padding:0 5px 0}.woowbox-lb-modern-view .woowbox-lb-modern-caption-wrap .woowbox-lb-modern-caption-delimiter{position:absolute;top:50%;left:50%;transform:translate(-50%, 0) rotate(-58deg);width:19px;height:1.5px;background-color:white}.woowbox-lb-modern-view .woowbox-lb-modern-caption-wrap .woowbox-lb-modern-caption-all{position:absolute;top:50%;left:50%;font-size:11px;margin-left:5px}\n",""])},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".pgc-rev-item-menu-view{position:relative;overflow:hidden;float:left}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-ultrabox{display:flex;flex-direction:row;flex-wrap:wrap;margin-right:5px}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-ultrabox .pgc-rev-item-menu-button{padding:3px;width:43px;height:43px;margin:0 5px;border-radius:2px}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-lightbox .pgc-rev-item-menu-button{margin:2px}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-thumb{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-thumb .pgc-rev-item-menu-button{margin:1px}.pgc-rev-item-menu-view .pgc-rev-item-menu-button{position:relative;padding:9px;width:38px;height:38px;cursor:pointer;float:left;transition:background-color 0.2s, transform 0.4s ease-out;border-radius:2px}.pgc-rev-item-menu-view .pgc-rev-item-menu-button svg{width:100%;height:100%;fill:inherit;display:block;transition:fill 0.2s, transform 0.4s ease-out}\n",""]),t.locals={classPref:'".pgc-rev-item-menu-"'}},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".pgc-rev-scroll-bar-wrap{position:relative;flex:none;width:490px;height:50px;overflow:hidden}.pgc-rev-scroll-bar-wrap .pgc-rev-scroll-bar-view{position:absolute;height:100%}.pgc-rev-scroll-bar-wrap .pgc-rev-scroll-bar-view .pgc-rev-scroll-bar-item{position:absolute;height:50px;width:70px;overflow:hidden}.pgc-rev-scroll-bar-wrap .pgc-rev-scroll-bar-view .pgc-rev-scroll-bar-item .pgc-rev-scroll-bar-item-bg{position:absolute;left:3px;right:3px;top:3px;bottom:3px;background-position:center;-webkit-background-size:cover;background-size:cover;background-repeat:no-repeat;-webkit-backface-visibility:hidden;backface-visibility:hidden}.pgc-rev-scroll-bar-wrap .pgc-rev-scroll-bar-view .pgc-rev-scroll-bar-item .pgc-rev-scroll-bar-item-hover{position:absolute;opacity:0;transition:opacity 0.2s;pointer-events:none;top:0;left:0;right:0;bottom:0;border-style:solid;border-width:3px;border-color:#fff}.pgc-rev-scroll-bar-wrap .pgc-rev-scroll-bar-view .pgc-rev-scroll-bar-item .pgc-rev-scroll-bar-item-link{position:absolute;width:34px;height:34px;padding:6px;border-radius:50%;left:50%;top:50%;transform:translateY(-50%) translateX(-50%)}.pgc-rev-scroll-bar-wrap .pgc-rev-scroll-bar-view .pgc-rev-scroll-bar-item .pgc-rev-scroll-bar-item-link svg{width:100%;height:100%;fill:rgba(0,0,0,0.58);vertical-align:baseline !important}.pgc-rev-scroll-bar-wrap .pgc-rev-scroll-bar-view .pgc-rev-scroll-bar-item .pgc-rev-scroll-bar-item-link.rotate svg{animation:1s spinner linear infinite}.pgc-rev-scroll-bar-grabbable{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.pgc-rev-scroll-bar-grabbable:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}\n",""]),t.locals={classPref:'".pgc-rev-scroll-bar-"'}},function(e,t,i){(t=e.exports=i(0)(!1)).push([e.i,".pgc-rev-slider-view{position:absolute;overflow:hidden;left:0;right:0;top:0;bottom:0}.pgc-rev-slider-view *{box-sizing:border-box !important;line-height:1.4}.pgc-rev-slider-view .pgc-rev-slider-hints{position:absolute;display:inline-block;padding:5px 10px;font-size:12px;line-height:normal;background-color:rgba(0,0,0,0.8);color:white;transform:translateY(-100%);border-radius:2px;transition:0.4s}.pgc-rev-slider-view.pgc-rev-slider-activate{pointer-events:auto;visibility:visible;opacity:1}.pgc-rev-slider-view .pgc-rev-slider-bg{width:100%;height:100%;transform:translateZ(0)}.pgc-rev-slider-view .pgc-rev-slider-wrap{position:absolute;user-select:none;width:100%;top:0;bottom:0}.pgc-rev-slider-view .miniScreen{margin-top:0;margin-bottom:0}.pgc-rev-slider-view .pgc-rev-slider-next-prev-button{position:absolute;width:45px;height:40px;top:50%;margin:0 10px;padding:0;cursor:pointer;transition:background-color 0.3s, transform 0.5s ease-out;border-radius:2px}.pgc-rev-slider-view .pgc-rev-slider-next-prev-button.next-prev-button-mini-screen{display:none}.pgc-rev-slider-view .pgc-rev-slider-next-prev-button svg{transition:fill 0.3s;width:100%;height:100%;vertical-align:baseline !important}.pgc-rev-slider-page-view{position:absolute;display:block;transform:translate3d(0, 0, 0);width:100%;top:0;bottom:0;left:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;-moz-user-select:none;-ms-user-select:none;touch-action:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner{position:absolute;display:block;left:0;top:0;bottom:0;width:100%;overflow:hidden;transform:translate3d(0, 0, 0);backface-visibility:hidden;-webkit-backface-visibility:hidden;-webkit-transform-origin:left top;transform-origin:left top;user-select:none;touch-action:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner img{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute !important;display:block !important;border:none !important;max-width:none !important;opacity:0;padding:0 !important;margin:0 !important;transition:0.35s ease-out;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner img.onLoad{opacity:1}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner.video-play img{visibility:hidden}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner .video-wrap{position:absolute;display:block;border:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner .video-wrap iframe{width:100% !important;height:100% !important;top:0;left:0}.pgc-rev-slider-page-view .pgc-rev-slider-page-icon-holder{position:absolute;width:140px;height:140px;border-radius:50%;background-color:rgba(255,255,255,0.6);transform:translateY(-50%) translateX(-50%);left:50%;top:50%;padding:30px;visibility:hidden;will-change:transform;cursor:pointer}.pgc-rev-slider-page-view .pgc-rev-slider-page-icon-holder svg{width:100%;height:100%;fill:rgba(0,0,0,0.4)}.pgc-rev-slider-page-view.info-icon .pgc-rev-slider-page-icon-holder{visibility:visible}@keyframes pgc-rev-rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.pgc-rev-wrap-rotate{animation-name:pgc-rev-rotate;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear}\n",""]),t.locals={classPref:'".pgc-rev-slider-"',classPrefPage:'".pgc-rev-slider-page-"'}},function(e,t,i){var o=i(22);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(0)(!1)).push([e.i,".woowbox-slidersbox-view *{box-sizing:border-box !important}.woowbox-slidersbox-view svg{vertical-align:top !important}.woowbox-slidersbox-view .woowbox-slidersbox-content{will-change:transform}.woowbox-slidersbox-pointers-navi{position:relative;padding:20px 100px;text-align:center !important}.woowbox-slidersbox-pointers-navi .woowbox-slidersbox-bullet{position:relative;display:inline-block;cursor:pointer;width:10px;height:10px;margin:0 5px;border-radius:50%;opacity:0.5;transition:opacity 0.5s}.woowbox-slidersbox-pointers-navi .woowbox-slidersbox-bullet.woowbox-slidersbox-mini-screen{width:5px;height:5px;margin:2px 2px}.woowbox-slidersbox-collection-slider{position:relative;width:100%;height:200px;overflow:hidden;transition:0.5s height;background-color:lightgray}.woowbox-slidersbox-collection-slider .woowbox-slidersbox-content{position:absolute}.woowbox-slidersbox-collection-slider .woowbox-slidersbox-navi-button{position:absolute;width:42px;height:42px;padding:6px;transform:translateY(-50%);top:50%;cursor:pointer}.woowbox-slidersbox-collection-slider .woowbox-slidersbox-navi-button svg{width:100%;height:100%}.woowbox-slidersbox-thumb-pint{position:relative;opacity:0;visibility:hidden;transition:opacity 0.45s;float:left}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder{position:relative;width:100%;overflow:hidden}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder img{display:block;border:0 !important;margin:0 !important;padding:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;width:100% !important;height:auto !important;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:opacity 0.5s;opacity:0}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder .woowbox-slidersbox-image-over{position:absolute;top:0;width:100%;height:100%;transition:opacity 0.5s;opacity:0}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder .woowbox-slidersbox-zoom{position:absolute;width:50px;height:50px;padding:5px;right:0;top:0;transform:translateX(100%) translateY(10%);margin:auto;cursor:pointer;border-radius:2px;transition:transform 0.2s}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder .woowbox-slidersbox-zoom svg{width:100%;height:100%;fill:white}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder .woowbox-slidersbox-zoom.woowbox-slidersbox-media{transform:translateX(-10%) translateY(10%);padding:10px}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder.woowbox-slidersbox-hover .woowbox-slidersbox-image-over{opacity:1}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-image-holder.woowbox-slidersbox-hover .woowbox-slidersbox-zoom{transform:translateX(-10%) translateY(10%)}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-content{position:relative;display:block;padding:0 20px;text-align:left;background-color:white;overflow:hidden;width:100%;z-index:1}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-title{position:relative;margin:10px 0 5px;display:block;font-size:18px;line-height:20px;letter-spacing:1px;font-weight:600}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-date{position:relative;display:block;font-size:13px;font-weight:400;line-height:1;font-style:italic}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-description{position:relative;display:block;margin:10px 0;padding:0;font-size:13px;line-height:23p}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-read-more{position:relative;cursor:pointer;font-size:10px;text-transform:uppercase;line-height:38px;padding:0 15px;font-weight:700;letter-spacing:1px;color:white;display:inline-block;background-color:rgba(0,0,0,0.59);transition:0.5s}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-menu-holder{position:relative;display:block;width:100%;margin:15px 0;overflow:hidden}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-menu-holder .woowbox-slidersbox-items-buttons{position:relative;padding:9px;width:38px;height:38px;cursor:pointer;float:right;transition:background-color 0.2s;box-sizing:border-box;margin:0 1px}.woowbox-slidersbox-thumb-pint .woowbox-slidersbox-item-menu-holder .woowbox-slidersbox-items-buttons svg{display:block;width:100%;height:100%;transition:fill 0.2s}.woowbox-slidersbox-slider-cells{position:relative;width:100%;height:200px;overflow:hidden;transition:0.5s height}.woowbox-slidersbox-slider-cells .woowbox-slidersbox-content{position:absolute}.woowbox-slidersbox-slider-cells .woowbox-slidersbox-navi-button{position:relative;width:52px;height:52px;padding:6px;top:0;float:right;cursor:pointer;box-sizing:border-box !important}.woowbox-slidersbox-slider-cells .woowbox-slidersbox-navi-button svg{width:100%;height:100%}.woowbox-slidersbox-thumb-cell{position:absolute;overflow:hidden}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-image-holder{position:relative;width:100%;height:100%;overflow:hidden}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-image-holder img{opacity:0;transition:opacity 0.6s;max-width:none !important;max-height:none !important;border:none !important;position:absolute;display:block !important}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-image-holder .woowbox-slidersbox-menu-holder{position:absolute;padding:inherit;right:0;top:0}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-image-holder .woowbox-slidersbox-image-over{position:absolute;width:100%;height:100%;transition:opacity 0.5s;opacity:1}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-zoom,.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-link{position:relative;width:50px;height:50px;padding:5px;right:0;top:0;transform:translateX(100%) translateY(10%);margin-bottom:5px;cursor:pointer;border-radius:2px;transition:transform 0.2s}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-zoom svg,.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-link svg{width:100%;height:100%;fill:white}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-zoom.woowbox-slidersbox-media{transform:translateX(-10%) translateY(10%);padding:10px}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-link{transition-delay:0.1s;padding:12px}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-item-content{position:relative;width:100%;bottom:0;left:0;display:block;padding:5px 20px;text-align:left;transform:translateY(-100%)}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-item-content .woowbox-slidersbox-item-title{position:relative;margin:5px 0;display:block;font-size:24px;line-height:1.1;letter-spacing:1px}.woowbox-slidersbox-thumb-cell .woowbox-slidersbox-item-content .woowbox-slidersbox-item-date{position:relative;display:block;margin:5px 0;font-size:13px;font-weight:400;line-height:1.1;font-style:italic}.woowbox-slidersbox-thumb-cell.woowbox-slidersbox-hover .woowbox-slidersbox-image-holder .woowbox-slidersbox-image-over{opacity:0}.woowbox-slidersbox-thumb-cell.woowbox-slidersbox-hover .woowbox-slidersbox-zoom,.woowbox-slidersbox-thumb-cell.woowbox-slidersbox-hover .woowbox-slidersbox-link{transform:translateX(-10%) translateY(10%)}.woowbox-slidersbox-slider-onerow{position:relative;width:100%;height:200px;overflow:hidden;transition:0.5s height}.woowbox-slidersbox-slider-onerow .woowbox-slidersbox-content{position:absolute}.woowbox-slidersbox-slider-onerow .woowbox-slidersbox-navi-button{position:absolute;width:42px;height:42px;padding:6px;top:50%;transform:translateY(-50%);float:right;cursor:pointer}.woowbox-slidersbox-slider-onerow .woowbox-slidersbox-navi-button svg{width:100%;height:100%}.woowbox-slidersbox-thumb-onerow{position:absolute;overflow:hidden}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-image-holder{position:relative;width:100%;height:100%;overflow:hidden}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-image-holder img{opacity:0;transition:opacity 0.6s;max-width:none !important;max-height:none !important;border:none !important;position:absolute;display:block !important}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-image-holder .woowbox-slidersbox-image-over{position:absolute;width:100%;height:100%;transition:opacity 0.5s;opacity:1}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-image-holder .woowbox-slidersbox-zoom{position:absolute;width:50px;height:50px;padding:5px;right:0;top:0;transform:translateX(-10%) translateY(10%);margin-bottom:5px;cursor:pointer;border-radius:2px;transition:transform 0.2s}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-image-holder .woowbox-slidersbox-link{transition-delay:0.1s;padding:12px}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-image-holder .woowbox-slidersbox-zoom svg,.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-image-holder .woowbox-slidersbox-link svg{width:100%;height:100%}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-item-content{position:absolute;width:100%;top:50%;transform:translateY(-50%);left:0;display:block;padding:5px 20px;text-align:center;overflow:hidden}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-item-content .woowbox-slidersbox-item-title{position:relative;margin:5px 0;display:block;font-size:20px;line-height:25px;letter-spacing:1px;color:white;text-transform:uppercase}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-item-content .woowbox-slidersbox-item-date{position:relative;display:block;margin:10px 0;font-size:13px;font-weight:400;line-height:16px;color:white;font-style:italic}.woowbox-slidersbox-thumb-onerow .woowbox-slidersbox-item-content .woowbox-slidersbox-item-read-more{position:relative;cursor:pointer;font-size:10px;text-transform:uppercase;margin-top:10px;line-height:46px;padding:0 25px;font-weight:600;letter-spacing:2px;display:inline-block;transition:0.3s}.woowbox-slidersbox-thumb-onerow.woowbox-slidersbox-hover .woowbox-slidersbox-image-holder .woowbox-slidersbox-image-over{opacity:0}\n",""])},function(e,t,i){"use strict";i.r(t);var o=i(3),n=i.n(o);function s(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this;this.mouseDetected=!1,this.mouseMoveHandler=function(){return function(e){window.removeEventListener("mousedown",t.mouseMoveHandler,!1),window.removeEventListener("touchstart",t.mouseMoveHandler,!1),"touchstart"===e.type?(e.stopPropagation(),t.mouseDetected=!1):t.mouseDetected=!0}},window.addEventListener("mousedown",this.mouseMoveHandler,!1),window.addEventListener("touchstart",this.mouseMoveHandler,!1)}return a(e,null,[{key:"ClassPref",get:function(){var e=n.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"ICONS",get:function(){return{MAXIMIZE_SVG:'<svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>',NOTE_SVG:'<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',VIMEO_SVG:'<svg enable-background="new 0 0 56.693 56.693" height="56.693px" id="Layer_1" version="1.1" viewBox="-5 -5 66.693 66.693" width="56.693px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M3.602,22.974l2.01,2.636c0,0,4.146-3.267,5.528-1.634c1.382,1.634,6.656,21.357,8.417,24.997  c1.537,3.192,5.777,7.413,10.426,4.397c4.646-3.014,20.098-16.205,22.863-31.781c2.764-15.574-18.594-12.313-20.854,1.256  c5.652-3.395,8.671,1.38,5.778,6.784c-2.889,5.399-5.527,8.921-6.908,8.921c-1.379,0-2.441-3.612-4.021-9.928  c-1.635-6.53-1.624-18.291-8.416-16.958C12.019,12.921,3.602,22.974,3.602,22.974z"/></svg>',YOU_TUBE_SVG:'<svg data-name="Layer 21" height="24" id="Layer_21" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title/><path d="M21.80731,7.805a2.79915,2.79915,0,0,0-2.54907-2.53906C17.69061,5.13586,15.36707,5,12.50012,5c-3.45251,0-6.05865.14105-7.74353.27332A2.79932,2.79932,0,0,0,2.1925,7.815C2.08936,8.90021,2,10.33344,2,12.0423c0,1.66632.08862,3.07422.19128,4.14594a2.79852,2.79852,0,0,0,2.56384,2.53833C6.43994,18.85883,9.04657,19,12.50012,19c2.86694,0,5.19049-.13586,6.75812-.266a2.799,2.799,0,0,0,2.54907-2.539C21.91052,15.11548,22,13.69189,22,12S21.91052,8.88452,21.80731,7.805ZM9.77594,14.93878V9.06122L15.574,12Z"/></svg>',BOOKMARK_SVG:'<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1420 128q23 0 44 9 33 13 52.5 41t19.5 62v1289q0 34-19.5 62t-52.5 41q-19 8-44 8-48 0-83-32l-441-424-441 424q-36 33-83 33-23 0-44-9-33-13-52.5-41t-19.5-62v-1289q0-34 19.5-62t52.5-41q21-9 44-9h1048z"/></svg>',HEART_SVG:'<svg enable-background="new 0 0 51 46" height="46px" id="Layer_1" version="1.1" viewBox="0 0 51 46" width="51px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M46.188,4.101c-5.529-5.53-14.495-5.53-20.023,0L25.39,4.875l-0.996-0.774c-5.529-5.53-14.715-5.53-20.245,0  C-1.38,9.63-1.27,18.595,4.26,24.125l18.753,18.643c0.671,0.671,1.4,1.258,2.376,1.766c0.76-0.508,1.483-1.095,2.155-1.766  l18.643-18.643C51.717,18.595,51.717,9.63,46.188,4.101z""/></svg>',HEART_2_SVG:'<svg enable-background="new 0 0 24 24" id="Layer_1" version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M16.4,6c2,0,3.6,1.6,3.6,3.6c0,2-3.9,6.4-8,9.8c-4.1-3.5-8-7.9-8-9.8C4,7.6,5.6,6,7.6,6C10,6,12,9,12,9S13.9,6,16.4,6   M16.4,4C14.6,4,13,4.9,12,6.3C11,4.9,9.4,4,7.6,4C4.5,4,2,6.5,2,9.6C2,14,12,22,12,22s10-8,10-12.4C22,6.5,19.5,4,16.4,4L16.4,4z"/></svg>',COMENTS_SVG:'<svg style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M20,1H4C1.8,1,0,2.8,0,5v10c0,2.2,1.8,4,4,4v3c0,0.9,1.1,1.3,1.7,0.7L9.4,19H20c2.2,0,4-1.8,4-4V5   C24,2.8,22.2,1,20,1z M14,13H8c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h6c0.6,0,1,0.4,1,1C15,12.6,14.6,13,14,13z M16,9H8   C7.4,9,7,8.6,7,8c0-0.6,0.4-1,1-1h8c0.6,0,1,0.4,1,1C17,8.6,16.6,9,16,9z" id="message"/></g></svg>',COMENTS_2_SVG:'<svg enable-background="new 0 0 64 64" height="64px" id="Layer_1" version="1.1" viewBox="0 0 64 64" width="64px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M47.964,8.127H16.036c-4.4,0-8,3.6-8,8v20.977c0,4.4,3.6,8,8,8h7.397v10.768l13.333-10.768h11.197c4.4,0,8-3.6,8-8V16.127   C55.964,11.727,52.364,8.127,47.964,8.127z M50.964,37.104c0,1.626-1.374,3-3,3H36.767H35l-1.375,1.11l-5.191,4.193v-0.303v-5h-5   h-7.397c-1.626,0-3-1.374-3-3V16.127c0-1.626,1.374-3,3-3h31.928c1.626,0,3,1.374,3,3V37.104z"/><circle cx="21.743" cy="26.617" r="2.913"/><circle cx="32" cy="26.617" r="2.913"/><circle cx="42.256" cy="26.617" r="2.913"/></g></svg>',INFO_SVG:'<svg height="100px" id="Capa_1" style="enable-background:new 0 0 46 100;" version="1.1" viewBox="0 0 46 100" width="46px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M35.162,0c6.696,0,10.043,4.567,10.043,9.789c0,6.522-5.814,12.555-13.391,12.555c-6.344,0-10.045-3.752-9.869-9.947   C21.945,7.176,26.35,0,35.162,0z M14.543,100c-5.287,0-9.164-3.262-5.463-17.615l6.07-25.457c1.057-4.077,1.23-5.707,0-5.707   c-1.588,0-8.451,2.816-12.51,5.59L0,52.406C12.863,41.48,27.662,35.072,34.004,35.072c5.285,0,6.168,6.361,3.525,16.148   L30.58,77.98c-1.234,4.729-0.703,6.359,0.527,6.359c1.586,0,6.787-1.963,11.896-6.041L46,82.377C33.488,95.1,19.83,100,14.543,100z   "/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',DOWNLOAD_SVG:'<svg version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><g id="save"><path d="M11.2,16.6c0.4,0.5,1.2,0.5,1.6,0l6-6.3C19.3,9.8,18.8,9,18,9h-4c0,0,0.2-4.6,0-7c-0.1-1.1-0.9-2-2-2c-1.1,0-1.9,0.9-2,2    c-0.2,2.3,0,7,0,7H6c-0.8,0-1.3,0.8-0.8,1.4L11.2,16.6z"/><path d="M19,19H5c-1.1,0-2,0.9-2,2v0c0,0.6,0.4,1,1,1h16c0.6,0,1-0.4,1-1v0C21,19.9,20.1,19,19,19z"/></g></g></svg>',DOWNLOAD_2_SVG:'<svg enable-background="new 0 0 64 64" height="64px" id="Layer_1" version="1.1" viewBox="0 0 64 64" width="64px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M40.001,36.254c0,3.299-2.673,5.971-5.97,5.971H29.97c-3.297,0-5.97-2.672-5.97-5.971H8v17c0,2.209,1.791,4,4,4h40   c2.209,0,4-1.791,4-4v-17H40.001z"/><path d="M31.916,33.246l7.608-7.452c0.747-0.733,0.506-1.327-0.543-1.327h-4.565V9.246c0-1.381-1.119-2.5-2.5-2.5   s-2.5,1.119-2.5,2.5v15.221h-4.565c-1.05,0-1.291,0.595-0.542,1.327L31.916,33.246z"/></g></svg>',LINK_SVG:'<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/></svg>',LINK_2_SVG:'<svg data-name="Layer 21" height="24" id="Layer_21" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title/><path d="M9.87012,5.541l4.26953,4.26953a2.02108,2.02108,0,0,1,0,2.855l-1.42383,1.42285,1.41406,1.415,1.42383-1.42334a4.02449,4.02449,0,0,0,0-5.68359L11.28418,4.127a4.01858,4.01858,0,0,0-5.68359,0L4.17676,5.55029a4.02212,4.02212,0,0,0,0,5.68311L5.59082,9.81934a2.02108,2.02108,0,0,1,0-2.855L7.01465,5.541A2.06778,2.06778,0,0,1,9.87012,5.541Z"/><path d="M19.82324,12.666l-1.41406,1.41406a2.02108,2.02108,0,0,1,0,2.855L16.98535,18.3584a2.06778,2.06778,0,0,1-2.85547,0L9.86035,14.08887a2.02108,2.02108,0,0,1,0-2.855L11.28418,9.811,9.87012,8.396,8.44629,9.81934a4.02449,4.02449,0,0,0,0,5.68359l4.26953,4.26953a4.01917,4.01917,0,0,0,5.68359.00049l1.42383-1.42334A4.02449,4.02449,0,0,0,19.82324,12.666Z"/></svg>',SHARE_SVG:'<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1344 1024q133 0 226.5 93.5t93.5 226.5-93.5 226.5-226.5 93.5-226.5-93.5-93.5-226.5q0-12 2-34l-360-180q-92 86-218 86-133 0-226.5-93.5t-93.5-226.5 93.5-226.5 226.5-93.5q126 0 218 86l360-180q-2-22-2-34 0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5-93.5 226.5-226.5 93.5q-126 0-218-86l-360 180q2 22 2 34t-2 34l360 180q92-86 218-86z"/></svg>',SHARE_2_SVG:'<svg enable-background="new 0 0 64 64" height="64px" id="Layer_1" version="1.1" viewBox="0 0 64 64" width="64px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M48,39.26c-2.377,0-4.515,1-6.033,2.596L24.23,33.172c0.061-0.408,0.103-0.821,0.103-1.246c0-0.414-0.04-0.818-0.098-1.215  l17.711-8.589c1.519,1.609,3.667,2.619,6.054,2.619c4.602,0,8.333-3.731,8.333-8.333c0-4.603-3.731-8.333-8.333-8.333  s-8.333,3.73-8.333,8.333c0,0.414,0.04,0.817,0.098,1.215l-17.711,8.589c-1.519-1.609-3.666-2.619-6.054-2.619  c-4.603,0-8.333,3.731-8.333,8.333c0,4.603,3.73,8.333,8.333,8.333c2.377,0,4.515-1,6.033-2.596l17.737,8.684  c-0.061,0.407-0.103,0.821-0.103,1.246c0,4.603,3.731,8.333,8.333,8.333s8.333-3.73,8.333-8.333C56.333,42.99,52.602,39.26,48,39.26  z"/></svg>',FULL_SCREEN_SVG:'<svg height="14px" version="1.1" viewBox="0 0 14 14" width="14px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink"><title/><desc/><defs/><g fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g transform="translate(-215.000000, -257.000000)"><g id="fullscreen" transform="translate(215.000000, 257.000000)"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z" id="Shape"/></g></g></g></svg>',NORMAL_SCREEN_SVG:'<svg height="14px" version="1.1" viewBox="0 0 14 14" width="14px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill-rule="evenodd" stroke="none" stroke-width="1"><g id="Core" transform="translate(-257.000000, -257.000000)"><g id="fullscreen-exit" transform="translate(257.000000, 257.000000)"><path d="M0,11 L3,11 L3,14 L5,14 L5,9 L0,9 L0,11 L0,11 Z M3,3 L0,3 L0,5 L5,5 L5,0 L3,0 L3,3 L3,3 Z M9,14 L11,14 L11,11 L14,11 L14,9 L9,9 L9,14 L9,14 Z M11,3 L11,0 L9,0 L9,5 L14,5 L14,3 L11,3 L11,3 Z" id="Shape"/></g></g></g></svg>',CLOSE_SVG:'<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>',VIEW_SVG:'<svg enable-background="new 0 0 167 93" height="93px" id="Layer_1" version="1.1" viewBox="0 0 167 93" width="167px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M83.25,29.25c-9.649,0-17.5,7.851-17.5,17.5s7.851,17.5,17.5,17.5s17.5-7.851,17.5-17.5   S92.899,29.25,83.25,29.25z"/><path d="M83.25,0.75c-45.84,0-83,46-83,46s37.16,46,83,46s83-46,83-46S129.09,0.75,83.25,0.75z M83.25,81.25   c-19.054,0-34.5-15.445-34.5-34.5c0-19.054,15.446-34.5,34.5-34.5s34.5,15.446,34.5,34.5C117.75,65.805,102.304,81.25,83.25,81.25z   "/></g></svg>',FB_SVG_COLOR:'<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M27.6 3h-23.2c-.8 0-1.4.6-1.4 1.4v23.1c0 .9.6 1.5 1.4 1.5h12.5v-10.1h-3.4v-3.9h3.4v-2.9c0-3.4 2.1-5.2 5-5.2 1.4 0 2.7.1 3 .2v3.5h-2.1c-1.6 0-1.9.8-1.9 1.9v2.5h3.9l-.5 3.9h-3.4v10.1h6.6c.8 0 1.4-.6 1.4-1.4v-23.2c.1-.8-.5-1.4-1.3-1.4z"></path></svg>',FB_SVG:'<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M11.848,32h6.612V15.998h4.411l0.584-5.514H18.46l0.007-2.761c0-1.437,0.137-2.209,2.2-2.209h2.757V0h-4.412   c-5.299,0-7.164,2.675-7.164,7.174v3.311H8.545v5.515h3.303V32z"/></g></svg>',TW_SVG:'<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M30 7.3c-1 .5-2.1.8-3.3.9 1.2-.7 2.1-1.8 2.5-3.2-1.1.7-2.3 1.1-3.6 1.4-1-1.1-2.5-1.8-4.2-1.8-3.2 0-5.7 2.6-5.7 5.7 0 .5.1.9.1 1.3-4.8-.2-9-2.5-11.8-6-.5.9-.8 1.9-.8 3 0 2 1 3.8 2.6 4.8-.9 0-1.8-.3-2.6-.7v.1c0 2.8 2 5.1 4.6 5.6-.5.1-1 .2-1.5.2-.4 0-.7 0-1.1-.1.7 2.3 2.9 3.9 5.4 4-2 1.5-4.4 2.5-7.1 2.5-.5 0-.9 0-1.4-.1 2.5 1.6 5.6 2.6 8.8 2.6 10.6 0 16.3-8.8 16.3-16.3v-.7c1.1-1 2-2 2.8-3.2z"></path></svg>',PIN_SVG:'<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M16 3c-7.2 0-13 5.8-13 13 0 5.5 3.4 10.2 8.3 12.1-.1-1-.2-2.6 0-3.7.2-1 1.5-6.5 1.5-6.5s-.4-.8-.4-1.9c0-1.8 1-3.2 2.4-3.2 1.1 0 1.6.8 1.6 1.8 0 1.1-.7 2.8-1.1 4.3-.3 1.3.6 2.3 1.9 2.3 2.3 0 4.1-2.4 4.1-6 0-3.1-2.2-5.3-5.4-5.3-3.7 0-5.9 2.8-5.9 5.6 0 1.1.4 2.3 1 3 .1.1.1.2.1.4-.1.4-.3 1.3-.4 1.5-.1.2-.2.3-.4.2-1.6-.8-2.6-3.1-2.6-5 0-4.1 3-7.9 8.6-7.9 4.5 0 8 3.2 8 7.5 0 4.5-2.8 8.1-6.7 8.1-1.3 0-2.6-.7-3-1.5 0 0-.7 2.5-.8 3.1-.3 1.1-1.1 2.5-1.6 3.4 1.2.4 2.5.6 3.8.6 7.2 0 13-5.8 13-13 0-7.1-5.8-12.9-13-12.9z"></path></svg>',ZOOM_IN_SVG:'<svg enable-background="new 0 0 512 512" height="512px" id="Layer_1" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M497.913,497.914c-18.782,18.781-49.226,18.781-68.008,0l-84.862-84.864c-34.89,22.366-76.131,35.718-120.66,35.718  C100.468,448.768,0,348.314,0,224.384C0,100.454,100.468,0,224.383,0c123.931,0,224.384,100.453,224.384,224.384  c0,44.529-13.353,85.771-35.718,120.675l84.863,84.849C516.695,448.689,516.695,479.131,497.913,497.914z M224.383,64.11  c-88.511,0-160.274,71.763-160.274,160.274c0,88.526,71.764,160.274,160.274,160.274c88.526,0,160.273-71.748,160.273-160.274  C384.656,135.873,312.909,64.11,224.383,64.11z M256.438,320.548h-64.108v-64.109H128.22V192.33h64.109v-64.11h64.108v64.11h64.11  v64.109h-64.11V320.548z"/></svg>',ZOOM_OUT_SVG:'<svg enable-background="new 0 0 512 512" height="512px" id="Layer_1" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><path d="M497.913,429.906l-84.863-84.848c22.365-34.903,35.718-76.146,35.718-120.676C448.768,100.453,348.314,0,224.383,0    C100.468,0,0,100.453,0,224.384s100.468,224.384,224.383,224.384c44.529,0,85.771-13.352,120.66-35.718l84.862,84.864    c18.782,18.781,49.226,18.781,68.008,0C516.695,479.131,516.695,448.689,497.913,429.906z M224.383,384.658    c-88.511,0-160.274-71.748-160.274-160.274c0-88.511,71.764-160.274,160.274-160.274c88.526,0,160.273,71.763,160.273,160.274    C384.656,312.91,312.909,384.658,224.383,384.658z M128.219,256.438h192.329v-64.109H128.219V256.438z"/></g></g></svg>',PLAY_SVG:'<svg height="512px" id="Layer_1" enable-background:new 0 0 512 512 version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M405.2,232.9L126.8,67.2c-3.4-2-6.9-3.2-10.9-3.2c-10.9,0-19.8,9-19.8,20H96v344h0.1c0,11,8.9,20,19.8,20  c4.1,0,7.5-1.4,11.2-3.4l278.1-165.5c6.6-5.5,10.8-13.8,10.8-23.1C416,246.7,411.8,238.5,405.2,232.9z"/></svg>',PAUSE_SVG:'<svg height="512px" id="Layer_1" enable-background:new 0 0 512 512 version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M224,435.8V76.1c0-6.7-5.4-12.1-12.2-12.1h-71.6c-6.8,0-12.2,5.4-12.2,12.1v359.7c0,6.7,5.4,12.2,12.2,12.2h71.6   C218.6,448,224,442.6,224,435.8z"/><path d="M371.8,64h-71.6c-6.7,0-12.2,5.4-12.2,12.1v359.7c0,6.7,5.4,12.2,12.2,12.2h71.6c6.7,0,12.2-5.4,12.2-12.2V76.1   C384,69.4,378.6,64,371.8,64z"/></g></svg>',USER_SVG:'<svg version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M12,0C5.4,0,0,5.4,0,12c0,6.6,5.4,12,12,12s12-5.4,12-12C24,5.4,18.6,0,12,0z M12,4c2.2,0,4,2.2,4,5s-1.8,5-4,5   s-4-2.2-4-5S9.8,4,12,4z M18.6,19.5C16.9,21,14.5,22,12,22s-4.9-1-6.6-2.5c-0.4-0.4-0.5-1-0.1-1.4c1.1-1.3,2.6-2.2,4.2-2.7   c0.8,0.4,1.6,0.6,2.5,0.6s1.7-0.2,2.5-0.6c1.7,0.5,3.1,1.4,4.2,2.7C19.1,18.5,19.1,19.1,18.6,19.5z" id="user2"/></g></svg>'}}}]),a(e,null,[{key:"createPreloaderView",value:function(t){var i=0,o=document.createElement("div");o.className="".concat(e.ClassPref,"preloader");var n=document.createElement("div");n.className="".concat(e.ClassPref,"static"),n.style.width="".concat(8,"px"),n.style.height="".concat(8,"px"),n.style.margin="".concat(-4,"px"),n.style.backgroundColor=t,o.appendChild(n);var s=document.createElement("div");s.className="".concat(e.ClassPref,"spinner"),s.style.position="absolute",s.style.width="".concat(36,"px"),s.style.height="".concat(36,"px"),s.style.margin="".concat(-18,"px");for(var a=0;a<8;a+=1){var r=document.createElement("div");r.className="".concat(e.ClassPref,"point"),r.style.marginTop="".concat(-4,"px"),r.style.marginLeft="".concat(-4,"px"),r.style.width="".concat(8,"px"),r.style.height="".concat(8,"px"),r.style.backgroundColor=t,r.style.transform="rotate(".concat(i,"deg) translate(").concat(18,"px)"),i+=45,s.appendChild(r)}return o.appendChild(s),o}},{key:"requestAnimationFrame",value:function(e){return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)(e)}},{key:"cancelAnimationFrame",value:function(e){(window.cancelAnimationFrame||window.mozCancelAnimationFrame)(e)}},{key:"whichTransitionEventEnd",value:function(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i=Object.keys(t);for(var o in i)if(void 0!==e.style[o])return t[o]}},{key:"copyProperties",value:function(e,t){for(var i=Object.keys(e),o=0;o<i.length;o+=1){var n=i[o];t[n]=e[n]}}},{key:"shuffle",value:function(e){for(var t,i,o=e.length;0!==o;)i=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[i],e[i]=t;return e}},{key:"Rect",value:function(e,t,i,o){return{x:e,y:t,width:i,height:o}}},{key:"Size",value:function(e,t){return{width:e,height:t}}},{key:"Point",value:function(e,t){return{x:e,y:t}}},{key:"SvgWithImage",value:function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 1 1"),t.setAttribute("version","1.1"),t.setAttribute("role","img");var i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttributeNS("http://www.w3.org/1999/xlink","href",e),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("preserveAspectRatio","xMidYMid slice"),t.appendChild(i),t}},{key:"findHighestZIndex",value:function(e){for(var t,i=99999,o=0;o<e.childNodes.length;o+=1){var n=e.childNodes[o];1===n.nodeType&&"SCRIPT"!==n.nodeName&&(t=document.defaultView.getComputedStyle(n,null).getPropertyValue("z-index")),t>i&&"auto"!==t&&(i=parseInt(t,10))}return i}},{key:"trace",value:function(e){if(1!==arguments.length){for(var t="",i=0;i<arguments.length;i+=1){var o=arguments[i];t+="".concat(o," , ")}t=t.slice(0,-2),console.log(t)}else console.log(e)}},{key:"preventDefaultForScrollKeys",value:function(e){return!{37:1,38:1,39:1,40:1}[e.keyCode]||(e.preventDefault(),!1)}},{key:"preventDefault",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}},{key:"disableBodyScroll",value:function(){document.getElementsByTagName("html")[0].classList.add("".concat(e.ClassPref,"PopUpActive"))}},{key:"enableBodyScroll",value:function(){document.getElementsByTagName("html")[0].classList.remove("".concat(e.ClassPref,"PopUpActive"))}},{key:"disableBodyScrollSlider",value:function(){if(window.addEventListener){var t=e.passiveListener,i=e.preventDefault;window.addEventListener("wheel",i,t),window.addEventListener("mousewheel",i,t),window.addEventListener("touchmove",i,t)}document.onkeydown=e.preventDefaultForScrollKeys}},{key:"enableBodyScrollSlider",value:function(){if(window.removeEventListener){var t=e.passiveListener,i=e.preventDefault;window.removeEventListener("wheel",i,t),window.removeEventListener("mousewheel",i,t),window.removeEventListener("touchmove",i,t)}document.onkeydown=null}},{key:"collapseElementsInElemt",value:function(e,t){for(var i=[],o=0;o<e.childNodes.length;o+=1){var n={},s=e.childNodes[o];1===s.nodeType&&"SCRIPT"!==s.nodeName&&s!==t&&(n.element=s,n.height=null,n.overflow=null,""!==s.style.height&&(n.height=s.style.height),""!==s.style.overflow&&(n.overflow=s.style.overflow),i.push(n),s.style.overflow="hidden",s.style.height="0")}return i}},{key:"recoverElements",value:function(e){if(0!==e.length)for(var t=0;t<e.length;t+=1){var i=e[t].element;i&&(e[t].overflow?i.style.overflow=e[t].overflow:i.style.removeProperty("overflow"),e[t].height?i.style.height=e[t].height:i.style.removeProperty("height"))}}},{key:"hexToRgbaStrin",value:function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,o){return t+t+i+i+o+o}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?"rgba(".concat(parseInt(i[1],16),",").concat(parseInt(i[2],16),",").concat(parseInt(i[3],16),",").concat(t,")"):null}},{key:"getFrameForBoxWithMode",value:function(t,i,o){var n=t.width,s=t.height,a=i.width,r=i.height,l=1,c=1,h=1;o?(l=a/n,c=r/s,h=Math.max(l,c)):(l=a/n,c=r/s,h=(h=Math.min(l,c))>1?1:h);var d=Math.round(n*h),p=Math.round(s*h),m=Math.round((a-d)/2),u=Math.round((r-p)/2);return e.Rect(m,u,d,p)}},{key:"getItemFrameByIndexForBox",value:function(t,i,o,n,s,a){var r=1;a&&(r=a);var l=s=Math.min(i,s),c=Math.floor(i/s),h=(l=c>1?(i-(c-1)*o)/c:i)*r,d=Math.ceil((t+1)/c)-1,p=d*(h+n),m=(t-d*c)*(l+o);return e.Rect(m,p,l,h)}},{key:"fadeOut",value:function(e,t,i){i||(i=500);var o=Math.sqrt,n=(new Date).getTime();!function s(){var a=(new Date).getTime()-n,r=a/i;if(r<1){var l=1-o(r);e.style.opacity=String(l),setTimeout(s,Math.min(25,i-a))}else e.style.opacity="0",t&&t()}()}},{key:"ellipsizeTextBoxToLine",value:function(e,t){e.innerHTML=e.textContent||e.innerText||"";var i=e.innerHTML,o=e.innerHTML.split(" ");e.innerHTML=o[0].substring(0,3);var n=e.clientHeight*t;for(e.innerHTML=i;e.clientHeight>n;)o.pop(),e.innerHTML="".concat(o.join(" ")," ...")}},{key:"ellipsizeTextBox",value:function(e){e.innerHTML=e.textContent||e.innerText||"";for(var t=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)t.pop(),e.innerHTML="".concat(t.join(" ")," ...")}},{key:"scrollInElementToY",value:function(e,t){var i=0,o=setInterval((function(){i=.05*i+.1*(t-e.scrollTop);var n=e.scrollTop;n+=i,e.scrollTo(0,n),Math.abs(i)<.02&&(e.scrollTo(0,t),clearInterval(o))}),15)}},{key:"scrollToY",value:function(e,t){var i,o=window.pageYOffset,n=Math.PI/(t/15),s=o/2,a=0,r=setInterval((function(){window.pageYOffset>e?(a+=1,i=s-s*Math.cos(a*n),window.scrollTo(0,o-i)):clearInterval(r)}),15)}},{key:"toggleFullScreen",value:function(e){var t=document.webkitIsFullScreen||document.mozFullScreen||!1;e.requestFullScreen=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||function(){return!1},document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1},t?document.cancelFullScreen():e.requestFullScreen()}},{key:"CacheItemsList",value:function(){var e={};function t(o){!e.itemsList||e.cached===e.itemsList.length&&!e.amount||e.amount&&e.cached>=e.amount||(e.amount&&(e.amount=Math.min(e.amount,e.itemsList.length)),e.currentItem=e.itemsList[o].webView,e.lastIndex=o,e.currentItem.complete?(e.cached+=1,t(e.lastIndex+1>=e.itemsList.length?0:e.lastIndex+1)):e.currentItem.addEventListener("load",i,!1))}function i(){e.cached+=1,t(e.lastIndex+1>=e.itemsList.length?0:e.lastIndex+1)}return e.cached=0,e.itemsList=void 0,e.currentItem=void 0,e.amount=void 0,e.lastIndex=void 0,e.init=function(o,n,s){e.currentItem&&e.currentItem.removeEventListener("load",i,!1),e.amount=s,e.cached=0,e.currentItem=void 0,e.lastIndex=n,e.itemsList=o,void 0===n&&(n=0),t(n)},e.status=function(){return{list:e.itemsList,index:e.lastIndex}},e}},{key:"GMEventsManager",value:function(){return{listenerSet:{},addGMEventListener:function(t,i,o){if(!t)return e.trace("********************************* Event UNDEFINED!!! ***************************************"),e.trace(i),e.trace(o),void e.trace("********************************* Event UNDEFINED!!! ***************************************");this.listenerSet[t]||(this.listenerSet[t]=[]);var n={};n.listener=i,n.handler=o,this.listenerSet[t].push(n)},removeGMEventListener:function(e,t,i){if(this.listenerSet[e])for(var o=0;o<this.listenerSet[e].length;o+=1)this.listenerSet[e][o].listener===t&&this.listenerSet[e][o].handler===i&&(this.listenerSet[e].splice(o,1),o=this.listenerSet[e].length)},dispatchGMEvent:function(e){if(this.listenerSet[e.type])for(var t=this.listenerSet[e.type],i=0;i<t.length;i+=1){var o=t[i];o&&o.listener&&"function"==typeof o.listener[o.handler]&&o.listener[o.handler](e)}}}}},{key:"GMEvent",value:function(e,t,i){var o={};return o.type=e,o.params=i,o.target=t,o}},{key:"passiveListener",get:function(){var e=!1;try{var t={get:function(){e=!0}},i=Object.defineProperty({},"passive",t);window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(e){}return!!e&&{passive:!1,capture:!1}}},{key:"Device",get:function(){var e=window,t=e.navigator.userAgent,i={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:e.cordova||e.phonegap,phonegap:e.cordova||e.phonegap,browser:{ie11:!1}},o=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),n=t.match(/(Android);?[\s\/]+([\d.]+)?/),s=t.match(/(iPad).*OS\s([\d_]+)/),a=t.match(/(iPod)(.*OS\s([\d_]+))?/),r=!s&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(o&&(i.os="windows",i.osVersion=o[2],i.windows=!0),n&&!o&&(i.os="android",i.osVersion=n[2],i.android=!0,i.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(s||r||a)&&(i.os="ios",i.ios=!0),r&&!a&&(i.osVersion=r[2].replace(/_/g,"."),i.iphone=!0),s&&(i.osVersion=s[2].replace(/_/g,"."),i.ipad=!0),a&&(i.osVersion=a[3]?a[3].replace(/_/g,"."):null,i.iphone=!0),i.ios&&i.osVersion&&t.indexOf("Version/")>=0&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),i.desktop=!(i.os||i.android||i.webView),i.webView=(r||s||a)&&t.match(/.*AppleWebKit(?!.*Safari)/i),i.os&&"ios"===i.os){var l=i.osVersion.split("."),c=document.querySelector('meta[name="viewport"]');i.minimalUi=!i.webView&&(a||r)&&(1*l[0]==7?1*l[1]>=1:1*l[0]>7)&&c&&c.getAttribute("content").indexOf("minimal-ui")>=0}return i.pixelRatio=e.devicePixelRatio||1,window.navigator.userAgent.indexOf("Trident/7.0")>-1&&(i.browser.ie11=!0),i}},{key:"isTouchDevice",get:function(){return navigator.maxTouchPoints||"ontouchstart"in window}},{key:"getScrollbarWidth",get:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var o=i.offsetWidth;return e.parentNode.removeChild(e),t-o}},{key:"hasScrollbar",get:function(){var e="BackCompat"===document.compatMode?document.body:document.documentElement;return e.scrollHeight>e.clientHeight}},{key:"miniScreen",get:function(){return window.screen.height<500||window.screen.width<500}},{key:"youTubeCode",get:function(){return'<iframe src="https://www.youtube.com/embed/%id%?autoplay=1&rel=0&showinfo=0&wmode=transparent" allow="autoplay" frameborder="0" allowfullscreen></iframe>'}},{key:"vimeoCode",get:function(){return'<iframe src="https://player.vimeo.com/video/%id%?autoplay=1&byline=0&portrait=0&transparent=0" frameborder=0 allowfullscreen allow=autoplay></iframe>'}},{key:"pageXOffset",get:function(){return void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft}},{key:"pageYOffset",get:function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},{key:"isFullscreen",get:function(){return document.webkitIsFullScreen||document.mozFullScreen||!1}}]),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,d(t).apply(this,arguments))}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),i=t,n=[{key:"timeConverter",value:function(e){var t=new Date(e),i=new Date,o=new Date(Date.now()-864e5),n=t.getFullYear(),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getDate(),r=t.getHours(),l=t.getMinutes();return t.setHours(0,0,0,0)===i.setHours(0,0,0,0)?"Today, ".concat(r,":").concat(l):t.setHours(0,0,0,0)===o.setHours(0,0,0,0)?"Yesterday, ".concat(r,":").concat(l):n===(new Date).getFullYear()?"".concat(a," ").concat(s,", ").concat(n):"".concat(a," ").concat(s," ").concat(n)}},{key:"moduleSettings",value:function(e){return window[e]&&window[e].settings?window[e].settings:null}},{key:"request",value:function(e,t,i,o){var n=this,s=new XMLHttpRequest;s.open("POST",this.moduleSettings(t.appName).appApi,!0),s.onreadystatechange=function(){4===this.readyState&&(200!==this.status?i&&n.moduleSettings(t.appName).appEventManager.dispatchGMEvent(n.GMEvent(i,t,{error:this.statusText,params:o})):i&&n.moduleSettings(t.appName).appEventManager.dispatchGMEvent(n.GMEvent(i,t,{data:this.responseText,params:o})))},s.onerror=function(){!0===confirm("Failed to load resource: The network connection was lost. Let's try again?")&&n.request(e,t,i,o)};try{s.send(e),n.moduleSettings(t.appName).appEventManager.dispatchGMEvent(n.GMEvent("REQUEST_START",t,null))}catch(e){n.trace(e)}}},{key:"Item",value:function(e,t){var i,o={get webView(){return this.webImg.src?o.webImg:(this.webImg.src=this.itemViewSrc,this.webImg)}},n=this;if(o.comment_status="closed",this.copyProperties(e,o),o.appName=t,o.idPrefix=void 0,o.albums=[],o.categories=[],o.tags=[],o.user=o.author,o.sharelink=o.link,o.postlink=o.link,o.ID=o.id,o.ratio=1,"caption"===n.moduleSettings(t).itemTitleFrom&&(o.title=o.caption),"caption"===n.moduleSettings(t).itemDescriptionFrom&&(o.description=o.caption),o.link=void 0,o.mime_type=o.mime,o.custom&&o.custom._gallery_link_url&&o.custom._gallery_link_url[0]){o.link=o.custom._gallery_link_url[0],o.linkTarget=o.custom._gallery_link_target[0];var s,a,r,l=o.link;l.match(/youtu\.be/i)||l.match(/youtube\.com/i)?(a=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(r=l.match(a))&&11===r[7].length&&(s=r[7]),void 0!==s&&(o.mime_type="video/youtube",o.videoId=s,o.link=void 0)):l.match(/vimeo\.com/i)&&(a=/(www\.)?vimeo.com\/(\d+)($|\/)/,(r=l.match(a))&&(s=r[2]),void 0!==s&&(o.mime_type="video/vimeo",o.videoId=s,o.link=void 0))}return"audio/mpeg"===o.mime_type&&(o.type="audio"),"image"===o.mime_type.split("/")[0]&&(o.type="image"),"video"===o.mime_type.split("/")[0]&&(o.type="video"),o.hasTag=function(e){if("all"===e)return!0;if(!o.tags||0===o.tags.length)return!1;for(var t=0;t<o.tags.length;t++)if(o.tags[t].term_id===e)return!0;return!1},o.meta=(i={},o.meta&&n.copyProperties(o.meta,i),i.mime=o.mime_type,i.likes=0,i.views=0,i.original={},i.original.width=o.width,i.original.height=o.height,i.original.link=o.url,i.thumb=i.original,i.web=i.original,o.sizes?(o.sizes.medium&&(i.thumb=o.sizes.medium,i.thumb.link=o.sizes.medium.url),o.sizes.large&&(i.web=o.sizes.large,i.web.link=o.sizes.large.url),i):i),o.itemViewSrc=o.meta?o.meta.web?o.meta.web.link:o.meta.original?o.meta.original.link:null:null,o.itemViewThumbSrc=o.meta?o.meta.thumb?o.meta.thumb.link:o.meta.web?o.meta.web.link:null:null,o.itemViewSize=o.meta?o.meta.web?n.Size(o.meta.web.width,o.meta.web.height):o.meta.original?n.Size(o.meta.original.width,o.meta.original.height):n.Size(300,300):n.Size(300,300),o.itemViewThumbSize=o.meta?o.meta.thumb?n.Size(o.meta.thumb.width,o.meta.thumb.height):o.meta.web?n.Size(o.meta.web.width,o.meta.web.height):n.Size(300,300):n.Size(300,300),o.ratio=o.itemViewSize.height/o.itemViewSize.width,o.webImg=new Image,o.webImg.setAttribute("draggable","false"),o.webImgFrame=this.Rect(0,0,0,0),o.webImg.addEventListener("load",(function(){this.classList.add("onLoad")}),!1),o}},{key:"Term",value:function(e,t){var i=this,o={get count(){return this.itemsList.length},get description(){if(this.description)return this.description},get name(){if(this.title)return this.title},get term_id(){if(this.gid)return this.gid},get sharelink(){if(i.moduleSettings(t).post_url)return i.moduleSettings(t).post_url},get thumbnail(){if(this.itemsList.length>0)return this.itemsList[0].itemViewSrc}};if(this.copyProperties(e,o),o.appName=t,o.taxonomy="albums",o.collectionName="collection_".concat(t,"_").concat(o.taxonomy),o.itemsList=[],o.data&&o.data.length>0)for(var n=0;n<o.data.length;n+=1){var s=i.Item(o.data[n],t);s.index=n,o.itemsList.push(s)}if(o.user=void 0,!o.meta){var a=this.Meta({},t);a._cover=o.itemsList[0]?o.itemsList[0]:void 0,o.meta=a}return o}},{key:"Meta",value:function(e,t){var i={};return this.copyProperties(e,i),i.appName=t,i._cover&&(i._cover=this.Item(e._cover,t)),i}},{key:"PR",get:function(){var e=!1;return window.WoowBox&&window.WoowBox.key&&""!==window.WoowBox.key&&(e=!0),e}}],(o=null)&&c(i.prototype,o),n&&c(i,n),t}(r),u={NEED_MODAL:"NEED_MODAL",FULLSCREEN_SWITCH:"FULLSCREEN_SWITCH",COLLECTION_VIEW_DATA_REDY:"COLLECTION_VIEW_DATA_REDY",NEED_LIGHTBOX:"NEED_LIGHTBOX",REMOVE_LIGHTBOX:"REMOVE_LIGHTBOX",COLLECTIO_SLIDER_UPDATE_CONTROLLS:"COLLECTIO_SLIDER_UPDATE_CONTROLLS",COUNTERS_UPDATED:"COUNTERS_UPDATED",ITEM_ACTION:"ITEM_ACTION"},v={PAGINATION_AMOUNT:20},g=i(4),w=i.n(g);function f(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,i){return t&&f(e.prototype,t),i&&f(e,i),e}var x=function(){function e(t,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=e.CONFIG,r.copyProperties(i,this.config),this.iconsSet=e.ICONS,this.passiveListener=r.passiveListener,this.type=void 0,this.appSet=t,this.appName=t.appName,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"window"),this.stageFixedMode=!1,this.closeButton=document.createElement("div"),this.closeButton.className="".concat(e.classPref,"close-button"),this.closeButton.style.backgroundColor=this.config.mwBackgroundColor,this.view.addEventListener("click",(function(e){e.target!==o.view&&e.target!==o.closeButton||o.prepareToRemove(e)}),r.passiveListener),this.view.appendChild(this.closeButton);var n=document.createElement("div");n.className="".concat(e.classPref,"flex"),this.view.appendChild(n),this.scrollView=void 0,this.dragging=!1,this.scrollViewTranslateYPr=0,this.startDragHandler=void 0,this.viewCompleted=!1,this.initForStage(this.config.mwParentDiv,this.config.mwFixedMode)}return b(e,null,[{key:"classPref",get:function(){var e=w.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{REMOVE_MODAL_WINDOW:"REMOVE_MODAL_WINDOW"}}},{key:"CONFIG",get:function(){return{mwParentDiv:void 0,mwFixedMode:!1,mwBackgroundColor:"rgba(0,0,0,0.8)"}}}]),b(e,[{key:"initForStage",value:function(t,i){var o=this;t.appendChild(this.view),this.view.style.zIndex=r.findHighestZIndex(t)+1,i?(r.disableBodyScrollSlider(),this.view.classList.add("".concat(e.classPref,"fixed-modal")),this.stageFixedMode=!0,document.addEventListener("keydown",o.keydownHandler(),!1)):this.stageFixedMode=!1,setTimeout((function(){o.view.style.opacity="1"}),30)}},{key:"addToStage",value:function(e){var t=this,i=document.getElementsByTagName("body")[0];this.view.style.zIndex=r.findHighestZIndex(i)+1,r.disableBodyScrollSlider(),e?e.appendChild(this.view):i.appendChild(this.view),setTimeout((function(){t.view.style.opacity="1"}),30),document.addEventListener("keydown",t.keydownHandler(),!1)}},{key:"prepareToRemove",value:function(){var t=this;this.view.style.opacity="0",this.stageFixedMode&&(document.removeEventListener("keydown",this.handlerKB,!1),r.enableBodyScrollSlider()),setTimeout((function(){t.view&&t.view.parentNode&&t.view.parentNode.removeChild(t.view),delete t.view,t.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.REMOVE_MODAL_WINDOW,t,{}))}),400)}},{key:"keydownHandler",value:function(){var e=this;return e.handlerKB=function(t){switch(t.keyCode){case 27:e.prepareToRemove()}},e.handlerKB}},{key:"pushPage",value:function(e){this.viewCompleted=!1,this.scrollView&&this.scrollView.parentNode&&this.scrollView.parentNode.removeChild(this.scrollView),this.view.appendChild(e),this.scrollView=e,this.updateControlls()}},{key:"updateControlls",value:function(){this.scrollView&&(this.viewCompleted||(this.startDragHandler=this.startDrag(),this.scrollView.addEventListener("touchstart",this.startDragHandler,this.passiveListener),this.scrollView.addEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!0))}},{key:"startDrag",value:function(){var e,t,i=this,o=0,n=0,s=0,a=0,l=.95,c=1,h=r.requestAnimationFrame,d=r.cancelAnimationFrame;function p(){i.scrollViewTranslateY>0?n=.2*n+.1*(0-i.scrollViewTranslateY):i.scrollViewTranslateY<i.bottom?n=.2*n+.1*(i.bottom-i.scrollViewTranslateY):n*=l,i.scrollViewTranslateY+=n,Math.abs(n)<.04?(i.dragging=!1,d(t)):t=h(p)}function m(t){var r=null;t.originalEvent&&(t=t.originalEvent),t.preventDefault(),r=t.touches&&t.touches[0]?t.touches[0].pageY:t.pageY;var l=e-r;l&&(i.dragging=!0),i.scrollViewTranslateY=o-l,s=a,a=i.scrollViewTranslateY,n=(a-s)*c}function u(e){if(e.preventDefault(),i.scrollView.style.transition="none",r.isTouchDevice&&(document.removeEventListener("touchmove",m,i.passiveListener),document.removeEventListener("touchend",u,i.passiveListener)),document.removeEventListener("mousemove",m,!1),document.removeEventListener("mouseup",u,!1),document.removeEventListener("oncontextmenu",u,!1),i.bottom<=0){if(i.scrollViewTranslateY<i.bottom-50||i.scrollViewTranslateY>50)return void i.prepareToRemove()}else if(i.scrollViewTranslateY<-50||i.scrollViewTranslateY>50)return void i.prepareToRemove();(0!==n||i.scrollViewTranslateY>0||i.scrollViewTranslateY<i.bottom)&&i.dragging&&(t=h(p))}return function(s){if(!s)return n=0,o=i.scrollViewTranslateY,void d(t);var l;(r.isTouchDevice||s.preventDefault(),s.originalEvent&&(s=s.originalEvent),s.button&&0!==s.button)||(n=0,a=i.scrollViewTranslateY,l=s.touches&&s.touches[0]?s.touches[0].pageY:s.pageY,e=l,o=i.scrollViewTranslateY,d(t),r.isTouchDevice&&(document.addEventListener("touchmove",m,i.passiveListener),document.addEventListener("touchend",u,i.passiveListener)),document.addEventListener("mousemove",m,!1),document.addEventListener("mouseup",u,!1),document.addEventListener("oncontextmenu",u,!1))}}},{key:"bottom",get:function(){return this.view.clientHeight-this.scrollView.clientHeight-20}},{key:"scrollViewTranslateY",set:function(e){this.scrollViewTranslateYPr=e,this.scrollView.style.transform="translateY(".concat(e,"px)");var t=Math.max(1-Math.abs(e/200),0);this.closeButton.style.opacity=t},get:function(){return this.scrollViewTranslateYPr}}]),e}(),y=i(5),S=i.n(y);function C(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t,i){return t&&C(e.prototype,t),i&&C(e,i),e}var E=function(){function e(t,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appSet=t,this.appName=t.appName,this.modal=i,this.config=e.CONFIG,r.copyProperties(o,this.config);var n=document.createElement("div");n.className="".concat(e.classPref,"page"),n.style.backgroundColor=this.config.mpPageBgColor;var s=document.createElement("div");s.className="".concat(e.classPref,"close-button"),s.innerHTML=r.ICONS.CLOSE_SVG,s.style.backgroundColor=this.config.mpButtonBackgroundColor,s.childNodes[0].style.fill=this.config.mpButtonIconColor,r.isTouchDevice&&s.addEventListener("touchend",(function(){i.dragging||i.prepareToRemove()}),!1),s.addEventListener("click",(function(){i.prepareToRemove()}),!1),n.appendChild(s),this.view=n}return k(e,null,[{key:"classPref",get:function(){var e=S.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{}}},{key:"PAGE_CONFIG",get:function(){return{mpButtonBackgroundColor:"rgba(0,0,0,0)",mpButtonIconColor:"white",mpPageBgColor:"rgb(230,230,230)"}}},{key:"CONFIG",get:function(){return e.PAGE_CONFIG}}]),k(e,[{key:"item",set:function(e){}}]),e}(),T=i(6),N=i.n(T);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,M(t).apply(this,arguments))}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),i=t,n=[{key:"classPref",get:function(){var e=N.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{ITEM_MENU_ACTION:"ITEM_MENU_ACTION"}}},{key:"CONFIG",get:function(){var e={};return m.copyProperties(E.PAGE_CONFIG,e),e.mpInfoBarDateInfoEnable=!0,e.mpInfoBarExifEnable=!0,e.mpModalInfoBoxTitleTextColor="black",e.mpModalInfoBoxTextColor="black",e}}],(o=[{key:"item",set:function(e){var i,o=this.view,n="";if(n+='<div class="'.concat(t.classPref,'item-title" style="color:\n      ').concat(this.config.mpModalInfoBoxTitleTextColor,'">').concat(e.title,"<br>"),e.description&&""!==e.description?n+='<div class="'.concat(t.classPref,'item-description" style="color:\n        ').concat(this.config.mpModalInfoBoxTextColor,'">').concat(e.description,"</div></div>"):n+="</div>",""!==n&&((i=document.createElement("div")).className="".concat(t.classPref,"description-wrap"),i.style.float="none",i.style.marginRight="41px",i.innerHTML=n,o.appendChild(i)),this.config.mpInfoBarExifEnable){var s="";e.meta.camera?s+='<div class="'.concat(t.classPref,'meta-exif-value">').concat(e.meta.camera,"</div></br>"):e.meta.model&&(s+='<div class="'.concat(t.classPref,'meta-exif-value">').concat(e.meta.model,"</div></br>"));var a=[];e.meta.focal_length&&0!==parseInt(e.meta.focal_length)&&a.push('<div class="'.concat(t.classPref,'meta-exif-value">').concat(parseInt(e.meta.focal_length)," mm</div>")),e.meta.aperture&&0!==parseFloat(e.meta.aperture)&&a.push('<div class="'.concat(t.classPref,'meta-exif-value">f/').concat(e.meta.aperture,"</div>")),e.meta.exposure?a.push('<div class="'.concat(t.classPref,'meta-exif-value">').concat(e.meta.exposure,"</div>")):e.meta.shutter_speed&&0!==parseFloat(e.meta.shutter_speed)&&a.push('<div class="'.concat(t.classPref,'meta-exif-value">1/').concat(parseInt(1/e.meta.shutter_speed),"</div>")),e.meta.iso&&0!==parseFloat(e.meta.iso)&&a.push('<div class="'.concat(t.classPref,'meta-exif-value">ISO ').concat(e.meta.iso,"</div>"));for(var r=0;r<a.length;r+=1)s+=a[r],r<a.length-1&&(s+='<div class="'.concat(t.classPref,'meta-exif-separator"> &bull; </div>'));""!==s&&((i=document.createElement("div")).className="".concat(t.classPref,"description-wrap"),i.style.color=this.config.mpModalInfoBoxTextColor,i.innerHTML=s,o.appendChild(i))}if(this.config.mpInfoBarDateInfoEnable){(i=document.createElement("div")).className="".concat(t.classPref,"description-wrap"),i.style.color=this.config.mpModalInfoBoxTextColor;var l="";l+='<div class="'.concat(t.classPref,'item-meta-key">Upload:</div>\n        <div class="').concat(t.classPref,'item-meta-value">').concat(m.timeConverter(e.date),"</div></br>"),i.innerHTML='<div class="'.concat(t.classPref,'item-date">').concat(l,"</div>"),""!==l&&o.appendChild(i)}}}])&&I(i.prototype,o),n&&I(i,n),t}(E),O=i(7),z=i.n(O);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,F(t).apply(this,arguments))}var i,o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),i=t,n=[{key:"classPref",get:function(){var e=z.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"CONFIG",get:function(){var e={};return m.copyProperties(E.PAGE_CONFIG,e),e.mpModalInfoBoxTitleTextColor="black",e}}],(o=[{key:"item",set:function(e){var i=this,o=this.view,n=e.sharelink,s="";if(""!==(s+='<div class="'.concat(t.classPref,'item-title" style="color: \'\n      ').concat(this.config.mpModalInfoBoxTitleTextColor,"'\">").concat(e.title,"</div>"))){var a=document.createElement("div");a.className="".concat(t.classPref,"description-wrap"),a.style.float="none",a.style.marginRight="41px",a.innerHTML=s,o.appendChild(a)}var r=document.createElement("div");r.className="".concat(t.classPref,"description-wrap"),r.style.float="none",r.style.padding="0px 20px",o.appendChild(r);var l=!1;function c(){if(!i.modal.dragging){var t,o,s=this.dataset.type,a=(window.screen.width-600)/2,r="menubar=no,toolbar=no,resizable=yes,scrollbars=yes, top=".concat(200,",\n         left=").concat(a,", height=450,width=600");switch(s){case"copy":t=document.getElementById("gmSH_title_copy"),o=this.getElementsByTagName("svg")[0],l&&window.open(n,"_blank"),window.getSelection().selectAllChildren(t);try{document.execCommand("copy")&&(window.getSelection().removeAllRanges(),o.style.fill="green",t.style.color="green",l=!0)}catch(e){window.open(n,"_blank")}break;case"facebook":window.open("https://www.facebook.com/share.php?u=".concat(n),"",r);break;case"twitter":window.open("https://twitter.com/intent/tweet?text=".concat(encodeURI(e.title),"&url=").concat(n),"",r);break;case"pinterest":window.open("http://www.pinterest.com/pin/create/button/?url=".concat(n,"&media=").concat(e.url,"\n              &description=").concat(encodeURI(e.title)),"",r)}}}var h=document.createElement("div");h.dataset.type="facebook",h.className="".concat(t.classPref,"item-button-wrap"),h.id="woowbox_share_fb";var d=document.createElement("div");d.className="".concat(t.classPref,"item-button"),d.innerHTML="".concat(m.ICONS.FB_SVG_COLOR,'\n      <div class="').concat(t.classPref,'button-title" style="color: #3b5998">Facebook</div>'),d.getElementsByTagName("svg")[0].style.fill="#3b5998",h.appendChild(d),h.addEventListener("mouseup",c,!1),m.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),(h=document.createElement("div")).dataset.type="twitter",h.className="".concat(t.classPref,"item-button-wrap"),h.id="woowbox_share_tw",(d=document.createElement("div")).className="".concat(t.classPref,"item-button"),d.innerHTML="".concat(m.ICONS.TW_SVG,'\n      <div class="').concat(t.classPref,'button-title" style="color: #00aced">Twitter</div>'),d.getElementsByTagName("svg")[0].style.fill="#00aced",h.appendChild(d),h.addEventListener("mouseup",c,!1),m.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),(h=document.createElement("div")).dataset.type="pinterest",h.className="".concat(t.classPref,"item-button-wrap"),h.id="woowbox_share_pin",(d=document.createElement("div")).className="".concat(t.classPref,"item-button"),d.innerHTML="".concat(m.ICONS.PIN_SVG,'\n      <div class="').concat(t.classPref,'button-title" style="color: #cc2127">Pinterest</div>'),d.getElementsByTagName("svg")[0].style.fill="#cc2127",h.appendChild(d),h.addEventListener("mouseup",c,!1),m.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),(h=document.createElement("div")).dataset.type="copy",h.className="".concat(t.classPref,"item-button-wrap"),h.id="woowbox_share_link",(d=document.createElement("div")).className="".concat(t.classPref,"item-copy-link"),d.innerHTML="".concat(m.ICONS.LINK_SVG,'\n        <div id="gmSH_title_copy" class="').concat(t.classPref,'button-title" style="color: #7d7d7d">').concat(n,"</div>"),d.getElementsByTagName("svg")[0].style.fill="#7d7d7d",h.appendChild(d),h.addEventListener("mouseup",c,!1),m.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),o.appendChild(r)}}])&&D(i.prototype,o),n&&D(i,n),t}(E),G=(i(16),i(8)),W=i.n(G);function X(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t,i){return t&&X(e.prototype,t),i&&X(e,i),e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var j=function e(t,i,o,n,s,a,r){U(this,e);var l=document.createElement("div");return l.className=t,l.dataset.type=o,l.innerHTML=i,l.style.backgroundColor=n,l.style.order=r,l.style.fill=s,l.addEventListener("touchend",a,!1),l.addEventListener("click",a,!1),l.addEventListener("mouseenter",a,!1),l.addEventListener("mouseleave",a,!1),l},q=function(){function e(t,i,o){U(this,e);var n=this;this.appSet=t,this.appName=t.appName;var s=e.MENU_TYPE;function a(e){"like"===e.dataset.type&&e.dataset.like||("bookmark"===e.dataset.type&&e.dataset.bookmark?e.style.backgroundColor=n.backgroundColor:(e.style.backgroundColor=n.backgroundColor,e.style.fill=n.iconColor))}function l(t){if(this.eventType=t.type,"click"===t.type){var i=n.item;if(!i)return;var o={};switch(o.type=this.dataset.type,o.item=i,this.dataset.type){case"like":case"bookmark":case"fullscreen":default:a(this)}r.Device.desktop||a(this),n.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.ITEM_MENU_ACTION,n,o))}else"mouseenter"===t.type?"bookmark"===(s=this).dataset.type&&s.dataset.bookmark?s.style.backgroundColor=n.backgroundColorOver:(s.style.backgroundColor=n.backgroundColorOver,s.style.fill=n.iconColorOver):"mouseleave"===t.type&&a(this);var s}this.config=e.CONFIG,r.copyProperties(o,this.config),this.item=void 0,this.lightbox=i===s.LIGHTBOX,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.view.classList.add(i),this.backgroundColor=this.config.im_backgroundColor,this.backgroundColorOver=this.config.im_backgroundColorOver,this.iconColor=this.config.im_iconColor,this.iconColorOver=this.config.im_iconColorOver,this.config.im_link&&(this.linkButton=new j("".concat(e.classPref,"button"),i===s.ULTRABOX?r.ICONS.LINK_2_SVG:r.ICONS.LINK_SVG,"link",this.backgroundColor,this.iconColor,l,i===s.ULTRABOX?6:0),this.view.appendChild(this.linkButton)),this.config.im_play&&(this.playButton=new j("".concat(e.classPref,"button"),r.ICONS.PLAY_SVG,"play",this.backgroundColor,this.iconColor,l,1),this.view.appendChild(this.playButton)),this.config.im_zoom&&(this.zoomButton=new j("".concat(e.classPref,"button"),r.ICONS.ZOOM_IN_SVG,"zoom",this.backgroundColor,this.iconColor,l,2),this.view.appendChild(this.zoomButton)),this.config.im_info&&(this.infoButton=new j("".concat(e.classPref,"button"),r.ICONS.INFO_SVG,"info",this.backgroundColor,this.iconColor,l,i===s.ULTRABOX?5:3),this.view.appendChild(this.infoButton)),this.config.im_discuss&&(this.commentsButton=new j("".concat(e.classPref,"button"),i===s.ULTRABOX?r.ICONS.COMENTS_2_SVG:r.ICONS.COMENTS_SVG,"coments",this.backgroundColor,this.iconColor,l,(s.ULTRABOX,4)),this.view.appendChild(this.commentsButton)),this.config.im_download&&(this.downloadButton=new j("".concat(e.classPref,"button"),i===s.ULTRABOX?r.ICONS.DOWNLOAD_2_SVG:r.ICONS.DOWNLOAD_SVG,"download",this.backgroundColor,this.iconColor,l,i===s.ULTRABOX?3:5),this.view.appendChild(this.downloadButton)),this.config.im_share&&(this.shareButton=new j("".concat(e.classPref,"button"),i===s.ULTRABOX?r.ICONS.SHARE_2_SVG:r.ICONS.SHARE_SVG,"share",this.backgroundColor,this.iconColor,l,i===s.ULTRABOX?2:6),this.view.appendChild(this.shareButton)),this.config.im_bookmark&&(this.bookMarkButton=new j("".concat(e.classPref,"button"),r.ICONS.BOOKMARK_SVG,"bookmark",this.backgroundColor,this.iconColor,l),this.view.appendChild(this.bookMarkButton)),this.config.im_like&&(this.likeButton=new j("".concat(e.classPref,"button"),i===s.ULTRABOX?r.ICONS.HEART_2_SVG:r.ICONS.HEART_SVG,"like",this.backgroundColor,this.iconColor,l,i===s.ULTRABOX?1:7),this.view.appendChild(this.likeButton)),this.config.im_fulscreen&&(this.fullscreenButton=new j("".concat(e.classPref,"button"),r.ICONS.FULL_SCREEN_SVG,"fullscreen",this.backgroundColor,this.iconColor,l,i===s.ULTRABOX?6:8),this.view.appendChild(this.fullscreenButton)),this.config.im_close&&(this.closeButton=new j("".concat(e.classPref,"button"),r.ICONS.CLOSE_SVG,"close",this.backgroundColor,this.iconColor,l,9),this.view.appendChild(this.closeButton))}return Y(e,null,[{key:"classPref",get:function(){var e=W.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{ITEM_MENU_ACTION:"ITEM_MENU_ACTION"}}},{key:"MENU_TYPE",get:function(){return{THUMB:"".concat(e.classPref,"type-thumb"),LIGHTBOX:"".concat(e.classPref,"type-lightbox"),ULTRABOX:"".concat(e.classPref,"type-ultrabox")}}},{key:"CONFIG",get:function(){return{im_linkTargetWindow:"_self",im_backgroundColor:"rgb(0,0,0)",im_backgroundColorOver:"rgb(255,255,255)",im_iconColor:"rgb(255,255,255)",im_iconColorOver:"rgb(0,0,0)",im_link:!1,im_play:!1,im_zoom:!1,im_info:!1,im_discuss:!1,im_download:!1,im_share:!1,im_like:!1,im_bookmark:!1,im_fulscreen:!1,im_close:!1,im_likesSet:void 0,im_isContainIdInBookmarkSet:void 0}}}]),Y(e,[{key:"updateForItem",value:function(e){if(this.item=e,this.zoomButton&&("image"!==e.type?this.zoomButtonStatus("desable"):this.zoomButtonStatus("zoomOut")),this.likeButton&&this.config.im_likesSet&&(this.config.im_likesSet[e.ID]?(this.likeButton.style.fill="red",this.likeButton.style.cursor="default",this.likeButton.style.pointerEvents="none",this.likeButton.dataset.like=e.ID):(this.likeButton.style.fill=this.iconColor,this.likeButton.style.cursor="pointer",this.likeButton.style.pointerEvents="all",delete this.likeButton.dataset.like)),this.bookMarkButton&&(this.config.im_isContainIdInBookmarkSet(this.item.ID)||0===this.config.im_isContainIdInBookmarkSet(this.item.ID)?(this.bookMarkButton.dataset.bookmark=e.ID,this.bookMarkButton.style.fill="red"):(delete this.bookMarkButton.dataset.bookmark,this.bookMarkButton.style.fill=this.iconColor)),this.linkButton&&(e.link?(this.linkButton.style.display="block",this.linkButton.style.opacity="1",this.linkButton.style.cursor="pointer",this.linkButton.style.pointerEvents="all"):(this.linkButton.style.opacity="0",this.linkButton.style.display="none",this.linkButton.style.cursor="default",this.linkButton.style.pointerEvents="none")),this.commentsButton)switch(e.comment_status){case"open":this.commentsButton.style.display=null;break;case"closed":this.commentsButton.style.display="none"}}},{key:"zoomButtonStatus",value:function(e){if(this.zoomButton&&this.zoomStatus!==e){switch(e){case"desable":this.zoomButton.innerHTML=r.ICONS.ZOOM_IN_SVG,this.zoomButton.style.pointerEvents="none",this.zoomButton.style.opacity=.4;break;case"zoomOut":this.zoomButton.innerHTML=r.ICONS.ZOOM_IN_SVG,this.zoomButton.style.pointerEvents="auto",this.zoomButton.style.opacity=1;break;case"zoomIn":this.zoomButton.innerHTML=r.ICONS.ZOOM_OUT_SVG,this.zoomButton.style.pointerEvents="auto",this.zoomButton.style.opacity=1}this.zoomStatus=e}}},{key:"playButtonStatus",value:function(e){if(this.playButton&&this.playStatus!==e){switch(e){case"play":this.playButton.innerHTML=r.ICONS.PAUSE_SVG;break;case"stop":this.playButton.innerHTML=r.ICONS.PLAY_SVG}this.playStatus=e}}},{key:"resizeHandler",value:function(){var e=this;setTimeout((function(){var t=document.webkitIsFullScreen||document.mozFullScreen||!1;e.fullscreenButton&&(e.fullscreenButton.innerHTML=t?r.ICONS.NORMAL_SCREEN_SVG:r.ICONS.FULL_SCREEN_SVG,e.fullscreenButton.style.fill=e.iconColor)}),200)}}]),e}(),Z=i(9),K=i.n(Z);function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t,i){return t&&J(e.prototype,t),i&&J(e,i),e}var ee=function(){function e(t){$(this,e);var i=this;function o(e){switch(e.type){case"mouseenter":i.selector.style.opacity="1";break;case"mouseleave":i.selectedPr||(i.selector.style.opacity="0")}}this.delegate=t,this.appName=t.appName,this.item=void 0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"item"),this.bgImg=document.createElement("div"),this.bgImg.className="".concat(e.classPref,"item-bg"),this.view.appendChild(this.bgImg),this.imgSRC=void 0,this.selector=document.createElement("div"),this.selector.className="".concat(e.classPref,"item-hover"),this.selector.style.borderColor=this.delegate.config.isb_itemBgColor,this.view.appendChild(this.selector),this.selectedPr=!1,this.view.addEventListener("mouseenter",o,!1),this.view.addEventListener("mouseleave",o,!1)}return Q(e,null,[{key:"classPref",get:function(){var e=K.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}}]),Q(e,[{key:"initByItem",value:function(t){if(this.item=t,this.imgSRC=t.itemViewThumbSrc,this.bgImg.style.backgroundImage="url(".concat(this.imgSRC,")"),this.type=t.type,"audio"===this.type||"video"===this.type){switch(this.hover=document.createElement("div"),this.hover.className="".concat(e.classPref,"item-link"),this.hover.style.backgroundColor=this.delegate.config.isb_itemBgColor,this.type){case"audio":this.hover.innerHTML=r.ICONS.NOTE_SVG;break;case"video":"vimeo"===this.item.mime_type.split("/")[1]?this.hover.innerHTML=r.ICONS.VIMEO_SVG:this.hover.innerHTML=r.ICONS.YOU_TUBE_SVG}this.view.appendChild(this.hover)}}},{key:"select",value:function(e){this.selector.style.opacity=e?"1":"0",this.selectedPr=e}}]),e}(),te=function(){function e(t,i){$(this,e),this.config=e.CONFIG,r.copyProperties(i,this.config),this.appName=t.appName,this.appSet=t,this.itemsList=[],this.thumbSize=r.Size(70,50),this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"wrap"),this.scrollView=document.createElement("div"),this.scrollView.className="".concat(e.classPref,"view"),this.scrollView.style.width="0px",this.view.appendChild(this.scrollView),this.thumbsList=[],this.itemsInStageCount=0,this.scrollWidthPr=0,this.viewCompleted=!1,this.dragging=!1,this.scrollViewTranslateX=0,this.startDragHandler=void 0,this.animationRender=void 0,this.speedX=0,this.activIndex=void 0,this.activAudioIndex=void 0}return Q(e,null,[{key:"classPref",get:function(){return ee.classPref}},{key:"CONFIG",get:function(){return{isb_itemBgColor:"rgba(255,255,255,0.6)"}}},{key:"EVENTS",get:function(){return{ITEMS_SCROLL_BAR_ITEM_ACTION:"ITEMS_SCROLL_BAR_ITEM_ACTION"}}}]),Q(e,[{key:"initByItemslist",value:function(e){this.itemsList=e;var t=new ee(this);this.scrollView.appendChild(t.view),this.thumbSize.width=t.view.clientWidth,this.thumbSize.height=t.view.clientHeight,this.scrollView.removeChild(t.view),this.prepare(),this.scrollWidthPr=this.thumbSize.width*this.itemsList.length,this.scrollView.style.width="".concat(this.scrollWidthPr+5,"px"),this.scrollViewTranslateX=0,this.updateView()}},{key:"addThumbByIndex",value:function(t){if(!this.thumbsList[t]){var i=this,o=new ee(this);this.thumbsList[t]=o,this.itemsInStageCount+=1,r.isTouchDevice&&o.view.addEventListener("touchend",n,!1),o.view.addEventListener("mouseup",n,!1),o.view.style.left="".concat(this.thumbSize.width*t,"px"),this.scrollView.appendChild(o.view),o.initByItem(this.itemsList[t]),o.view.dataset.gmIndex=t}function n(t){"touchend"!==t.type&&"mouseup"!==t.type||i.dragging||(i.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.ITEMS_SCROLL_BAR_ITEM_ACTION,i,{action:"click",index:parseInt(this.dataset.gmIndex)})),i.startDragHandler&&i.startDragHandler())}}},{key:"changeAudioStatusForIndex",value:function(e,t){var i=this.thumbsList[e];!this.activAudioIndex&&0!==this.activAudioIndex||e===this.activAudioIndex||(this.thumbsList[this.activAudioIndex].musicIdentifireStatus="ended"),i.musicIdentifireStatus=t.type,this.activAudioIndex=e}},{key:"prepare",value:function(){this.scrollWidthPr=0,this.scrollView.style.transform="translateX(0px)",this.scrollView.style.width="0px",this.scrollViewTranslateXPr=0}},{key:"resizeHandler",value:function(){this.updateView()}},{key:"selectThumbByIndex",value:function(e){if(void 0!==e&&0!==this.itemsList.length){var t;if((this.activIndex||0===this.activIndex)&&(t=this.thumbsList[this.activIndex])&&t.select(!1),this.thumbsList[e]||this.addThumbByIndex(e),t=this.thumbsList[e]){t.select(!0);var i=this.thumbSize.width*e,o=i+this.scrollViewTranslateX,n=o+this.thumbSize.width;(o<0||n<0)&&this.renderTransformTo(r.Point(-i,0)),(o>this.view.clientWidth||n>this.view.clientWidth)&&this.renderTransformTo(r.Point(this.view.clientWidth-this.thumbSize.width-i,0)),this.scrollWidthPr>this.view.clientWidth&&(this.scrollViewTranslateX=Math.max(this.scrollViewTranslateX,-(this.scrollWidthPr-this.view.clientWidth)))}this.activIndex=e}}},{key:"updateView",value:function(){if(this.selectThumbByIndex(this.activIndex),this.view.clientWidth/this.scrollWidthPr<1){if(this.scrollViewTranslateX=this.scrollViewTranslateXPr,this.viewCompleted)return;this.scrollView.classList.add("".concat(this.classPref,"grabbable")),this.startDragHandler=this.startDrag(),r.isTouchDevice&&this.scrollView.addEventListener("touchstart",this.startDragHandler,r.passiveListener),this.scrollView.addEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!0}else{if(this.scrollView.classList.remove("".concat(this.classPref,"grabbable")),this.scrollViewTranslateX=(this.view.clientWidth-this.scrollWidthPr)/2,!this.viewCompleted)return;r.isTouchDevice&&this.scrollView.removeEventListener("touchstart",this.startDragHandler,r.passiveListener),this.scrollView.removeEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!1}}},{key:"renderTransformTo",value:function(e){var t=this;r.cancelAnimationFrame(t.animationRender);var i=0,o=.2,n=.1;t.animationRender=requestAnimationFrame((function s(){i=i*o+(e.x-t.scrollViewTranslateX)*n,t.scrollViewTranslateX+=i,Math.abs(i)<.04?(cancelAnimationFrame(t.animationRender),t.scrollViewTranslateX=e.x):t.animationRender=requestAnimationFrame(s)}))}},{key:"startDrag",value:function(){var e,t,i=this,o=5*i.speedX,n=0,s=0,a=.95,l=1;function c(){return-i.scrollWidthPr+i.view.clientWidth}function h(){if(i.scrollViewTranslateX>0?o=.2*o+.1*(0-i.scrollViewTranslateX):i.scrollViewTranslateX<c()?o=.2*o+.1*(c()-i.scrollViewTranslateX):o*=a,i.scrollViewTranslateX+=o,Math.abs(o)<.4){r.cancelAnimationFrame(i.animationRender),i.speedX=o;var e=o<0?Math.max(Math.ceil(-i.scrollViewTranslateXPr/i.thumbSize.width),0):Math.max(Math.floor(-i.scrollViewTranslateXPr/i.thumbSize.width),0);i.renderTransformTo(r.Point(Math.max(c(),-e*i.thumbSize.width),0))}else i.animationRender=requestAnimationFrame(h)}function d(a){var r;a.preventDefault(),r=a.touches&&a.touches[0]?a.touches[0].pageX:a.pageX;var c=e-r;Math.abs(c)>4&&(i.dragging=!0),i.scrollViewTranslateX=t-c,n=s,s=i.scrollViewTranslateX,o=(s-n)*l}function p(e){e.preventDefault(),i.scrollView.style.transition=null,r.isTouchDevice&&(document.removeEventListener("touchmove",d,r.passiveListener),document.removeEventListener("touchend",p,r.passiveListener),document.removeEventListener("touchcancel",p,!1)),document.removeEventListener("mousemove",d,!1),document.removeEventListener("mouseup",p,!1),document.removeEventListener("oncontextmenu",p,!1),(0!==o||i.scrollViewTranslateX>0||i.scrollViewTranslateX<c())&&(i.animationRender=requestAnimationFrame(h)),i.dragging=!1}return function(n){if(!n)return o=0,t=i.scrollViewTranslateX,void r.cancelAnimationFrame(i.animationRender);var a;(r.isTtouchDevice||n.preventDefault(),n.button&&0!==n.button)||(o=0,s=i.scrollViewTranslateX,a=n.touches&&n.touches[0]?n.touches[0].pageX:n.pageX,e=a,t=i.scrollViewTranslateX,r.cancelAnimationFrame(i.animationRender),r.isTouchDevice&&(document.addEventListener("touchmove",d,r.passiveListener),document.addEventListener("touchend",p,r.passiveListener),document.addEventListener("touchcancel",p,!1)),document.addEventListener("mousemove",d,!1),document.addEventListener("mouseup",p,!1),document.addEventListener("oncontextmenu",p,!1))}}},{key:"size",set:function(e){var t=Math.floor(e.width/this.thumbSize.width);if(t<3)this.view.style.width="0";else{var i=Math.min(t,this.itemsList.length)*this.thumbSize.width;this.view.style.width="".concat(i,"px"),e.height&&(this.view.style.height="".concat(this.thumbSize.height,"px")),this.resizeHandler()}}},{key:"scrollViewTranslateX",set:function(e){if(this.scrollViewTranslateXPr=e,this.scrollView.style.transform="translateX(".concat(e,"px)"),this.itemsList.length!==this.itemsInStageCount)for(var t=Math.max(Math.floor(-e/this.thumbSize.width),0),i=Math.min(t+Math.ceil(this.view.clientWidth/this.thumbSize.width),this.itemsList.length-1),o=t;o<=i;o+=1)this.addThumbByIndex(o)},get:function(){return this.scrollViewTranslateXPr}}]),e}(),ie=i(2),oe=i.n(ie);function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t,i){return t&&se(e.prototype,t),i&&se(e,i),e}var re=function(){function e(t){ne(this,e),this.delegate=t,this.item=void 0,this.id=void 0,this.appName=t.appName,this.itemIndex=void 0,this.iconSet=t.iconSet,this.positionIndex=0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.itemInner=document.createElement("div"),this.itemInner.className="".concat(e.classPref,"inner"),this.view.appendChild(this.itemInner),this.iconHolder=document.createElement("div"),this.iconHolder.className="".concat(e.classPref,"icon-holder"),this.preloader=r.createPreloaderView(this.delegate.config.sl_preloaderColor),this.preloader.style.display="none",this.view.appendChild(this.preloader),this.view.appendChild(this.iconHolder),this.size=r.Size(0,0),this.imgSize=r.Size(0,0),this.imageFramePr=r.Rect(0,0,0,0),this.imageFrameFF=r.Rect(0,0,0,0),this.imageScaledFF=!1,this.width=0,this.height=0,this.maxXoffset=0,this.maxYoffset=0,this.MaxScale=4,this.imgScale=1,this.imgScaleFF=1,this.scale=1,this.newScale=1,this.newScaleMW=1,this.viewTranslatePr=r.Point(0,0),this.origin=r.Point(0,0),this.boundingBox=void 0,this.boundingBoxScale=void 0,this.animaSliderRender=void 0,this.speedX=0,this.speedY=0,this.oldX=0,this.newX=0,this.oldY=0,this.newY=0,this.draging=!1,this.isBlockDraging=!1,this.isBlockDragingMem=!1,this.startScale=void 0,this.startGlobalPoint=void 0,this.startDistForZoom=void 0}return ae(e,null,[{key:"classPref",get:function(){var e=oe.a.classPrefPage;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}}]),ae(e,[{key:"initByItem",value:function(e){if(this.id!==e.ID){var t=this;switch(this.item=e,this.id=e.ID,1!==this.scale&&(this.scale=1,this.viewTranslate=r.Point(0,0)),this.itemInner.firstChild&&this.itemInner.removeChild(this.itemInner.firstChild),this.itemInner.appendChild(e.webView),this.itemImg=e.webView,e.webView.complete?(this.imgSize.width=this.itemImg.naturalWidth,this.imgSize.height=this.itemImg.naturalHeight,this.isInScale&&this.normalize(),this.fit(!1)):(this.preloader.style.display="block",e.webView.addEventListener("load",(function(){t.preloader.style.display="none",t.imgSize.width=this.naturalWidth,t.imgSize.height=this.naturalHeight,t.isInScale&&t.normalize(),t.fit(!1)}),!1)),e.type){case"audio":this.iconHolder.innerHTML=this.iconSet.NOTE_SVG,this.view.classList.add("info-icon");break;case"video":this.view.classList.add("info-icon"),this.iconHolder.innerHTML=this.iconSet.PLAY_SVG,this.iconHolder.firstChild.style.marginLeft="7px";break;default:this.view.classList.remove("info-icon")}}}},{key:"resize",value:function(e){this.size=e,this.posX=this.positionIndex,this.isInScale&&this.normalize(),this.fit(!0)}},{key:"fit",value:function(){if(this.itemImg){var e=this.delegate.config.sl_xOffset,t=0,i=r.getFrameForBoxWithMode(this.imgSize,r.Size(this.size.width-2*e,this.size.height-2*t),!1,!1);i.x+=e,i.y+=t,this.imageFrameFF=i,t=this.delegate.config.sl_yOffset,(i=r.getFrameForBoxWithMode(this.imgSize,r.Size(this.size.width-2*e,this.size.height-2*t),!1,!1)).x+=e,i.y+=t,this.imageFrameNF=i,this.imgScale=Math.min(this.imgSize.width/i.width,this.MaxScale),this.imgScaleFF=this.imageFrameFF.height/i.height,"video"!==this.item.type&&(this.delegate.FF_Mode?(this.imageFrame=this.imageFrameFF,i=this.imageFrameFF,this.imageScaledFF=!0):(this.imageFrame=this.imageFrameNF,i=this.imageFrameNF,this.imageScaledFF=!1)),this.item.webImgFrame.x!==i.x||this.item.webImgFrame.y!==i.y||this.item.webImgFrame.width!==i.width||this.item.webImgFrame.height!==i.height?(this.imageFrame=i,this.item.webImgFrame=i):this.imageFramePr=i,this.videoWrap&&(this.videoWrapFrame=i)}}},{key:"checkOffset",value:function(e,t){var i=this.imageScaledFF?this.imageFrameFF:this.imageFrame;if(t!==this.boundingBoxScale){var o=i.width*(t||1),n=i.height*(t||1),s=i.x*(t||1),a=i.y*(t||1);this.boundingBox={left:o>this.size.width?-s:(this.size.width-this.size.width*t)/2,top:n>this.size.height?-a:(this.size.height-this.size.height*t)/2,right:o>this.size.width?this.size.width-(s+o):(this.size.width-this.size.width*t)/2,bottom:n>this.size.height?this.size.height-(a+n):(this.size.height-this.size.height*t)/2},this.boundingBoxScale=t}var l=e.x>this.boundingBox.left?this.boundingBox.left:e.x;l=l<this.boundingBox.right?this.boundingBox.right:l;var c=e.y>this.boundingBox.top?this.boundingBox.top:e.y;return c=c<this.boundingBox.bottom?this.boundingBox.bottom:c,r.Point(l,c)}},{key:"isPointInItem",value:function(e){var t=this.viewTranslate.x+this.size.width/2*this.newScale-this.imageFrame.width/2*this.newScale,i=t+this.imageFrame.width*this.newScale,o=this.size.height/2*this.newScale+this.viewTranslate.y-this.imageFrame.height/2*this.newScale*this.newScale,n=o+this.imageFrame.height*this.scale*this.newScale;return e.x>t&&e.x<i&&e.y>o&&e.y<n}},{key:"normalize",value:function(e){r.cancelAnimationFrame(this.animaSliderRender),e?this.renderTransformTo(r.Point(0,0),1):(this.scale=1,this.newScale=1,this.newScaleMW=1,this.viewTranslate=r.Point(0,0),this.origin=r.Point(0,0))}},{key:"zoomIn",value:function(e,t){if("audio"!==this.item.type&&"video"!==this.item.type){r.cancelAnimationFrame(this.animaSliderRender);var i=t.x-this.viewTranslate.x,o=t.y-this.viewTranslate.y,n=i/this.scale,s=o/this.scale,a=t.x-n*e,l=t.y-s*e,c=r.Point(a,l);this.renderTransformTo(this.checkOffset(c,e),e)}}},{key:"zoomByScaleIter",value:function(e,t){if("audio"!==this.item.type&&"video"!==this.item.type){var i=e<0?1.065:.935;r.cancelAnimationFrame(this.animaSliderRender),this.newScale*i>this.MaxScale&&(i=this.MaxScale/this.newScale),this.newScale*i<1&&(i=1/this.newScale),this.newScale*=i,this.origin=r.Point(t.x-i*(t.x-this.origin.x),t.y-i*(t.y-this.origin.y)),this.renderTransformTo(this.checkOffset(this.origin,this.newScale),this.newScale)}}},{key:"zoomByScaleDeltaToPoint",value:function(e,t){if("audio"!==this.item.type&&"video"!==this.item.type){var i;r.cancelAnimationFrame(this.animaSliderRender);var o=e/this.startDistForZoom,n=0;(i=this.startDistForZoom/this.startScale*o/(this.startDistForZoom/this.startScale)*this.startScale)>this.MaxScale&&(n=.8*-(i-this.MaxScale)),i+=n;var s=this.startGlobalPoint.x-this.startTranslate.x,a=this.startGlobalPoint.y-this.startTranslate.y,l=s/this.newScale,c=a/this.newScale,h=this.startGlobalPoint.x-l*i,d=this.startGlobalPoint.y-c*i,p=r.Point(h-t.x,d-t.y);this.scale=i,this.newScale=i,this.viewTranslate=p,this.startTranslate=r.Point(h,d)}}},{key:"renderTransformTo",value:function(e,t){var i=this;r.cancelAnimationFrame(i.animaSliderRender),this.origin=e,this.newScale=t;var o=0,n=0,s=0,a=.05,l=.1;i.animaSliderRender=r.requestAnimationFrame((function c(){o=o*a+(e.x-i.viewTranslate.x)*l,n=n*a+(e.y-i.viewTranslate.y)*l,t&&(s=s*a+.1*(t-i.scale));var h=i.viewTranslate.x;h+=o;var d=i.viewTranslate.y;d+=n,t&&(i.scale+=s),i.viewTranslate=r.Point(h,d),Math.abs(o)<.02&&Math.abs(n)<.02&&Math.abs(s)<.02?(r.cancelAnimationFrame(i.animaSliderRender),t&&(i.scale=t),i.viewTranslate=r.Point(e.x,e.y)):i.animaSliderRender=r.requestAnimationFrame(c)}))}},{key:"renderGlidingTransform",value:function(){var e=this;r.cancelAnimationFrame(e.animaSliderRender);var t=.95,i=.95;e.animaSliderRender=r.requestAnimationFrame((function o(){e.speedX*=t,e.speedY*=i;var n=e.viewTranslate.x;n+=e.speedX;var s=e.viewTranslate.y;if(s+=e.speedY,n>e.boundingBox.left||n<e.boundingBox.right){e.speedX*=-1;var a=n<e.boundingBox.right?e.boundingBox.right:n;n=n>e.boundingBox.left?e.boundingBox.left:a,n+=e.speedX,t=.75}if(s>e.boundingBox.top||s<e.boundingBox.bottom){e.speedY*=-1;var l=s<e.boundingBox.bottom?e.boundingBox.bottom:s;s=s>e.boundingBox.top?e.boundingBox.top:l,s+=e.speedY,i=.75}e.origin=r.Point(n,s),e.viewTranslate=r.Point(n,s),Math.abs(e.speedX)<.02&&Math.abs(e.speedY)<.02?(r.cancelAnimationFrame(e.animaSliderRender),e.speedX=0,e.speedY=0):e.animaSliderRender=r.requestAnimationFrame(o)}))}},{key:"renderStretchstretchTransform",value:function(){var e=this;r.cancelAnimationFrame(e.animaSliderRender);var t=this.checkOffset(r.Point(e.viewTranslate.x+e.speedX,e.viewTranslate.y+e.speedY),e.scale),i=.2,o=.15,n=0,s=0;e.animaSliderRender=r.requestAnimationFrame((function a(){n=n*i+(t.x-e.viewTranslate.x)*o,s=s*i+(t.y-e.viewTranslate.y)*o;var l=e.viewTranslate.x+n,c=e.viewTranslate.y+s;e.viewTranslate=r.Point(l,c),Math.abs(n)<.02&&Math.abs(s)<.02?(r.cancelAnimationFrame(e.animaSliderRender),e.viewTranslate=t):e.animaSliderRender=r.requestAnimationFrame(a)}))}},{key:"startDrag",value:function(e,t){r.cancelAnimationFrame(this.animaSliderRender),"audio"!==this.item.type&&"video"!==this.item.type&&(this.startDistForZoom=t,this.startGlobalPoint=e,this.startTranslate=this.viewTranslate,this.speedX=0,this.speedY=0,this.newX=this.viewTranslate.x,this.newY=this.viewTranslate.y,this.startScale=this.scale)}},{key:"stopDrag",value:function(){if("audio"!==this.item.type&&"video"!==this.item.type){if(this.isInScale)if(this.scale<1)this.normalize(!0);else if(this.scale>this.MaxScale)this.zoomIn(this.MaxScale,this.startGlobalPoint);else{var e=this.checkOffset(this.origin,this.newScale);this.isBlockDraging=e.x!==this.origin.x||e.y!==this.origin.y,this.isBlockDraging&&this.renderStretchstretchTransform()}this.draging&&(this.isBlockDraging?this.renderStretchstretchTransform():this.renderGlidingTransform(),this.draging=!1)}}},{key:"dragin",value:function(e){if("audio"===this.item.type||"video"===this.item.type)return!1;var t=this.startTranslate.x-e.x,i=this.startTranslate.y-e.y,o=this.checkOffset(r.Point(t,i),this.newScale);this.isBlockDraging=o.x!==t||o.y!==i,t-=.7*(t-o.x),i-=.7*(i-o.y);return this.oldX=this.newX,this.newX=t,this.speedX=.7*(this.newX-this.oldX),this.oldY=this.newY,this.newY=i,this.speedY=.7*(this.newY-this.oldY),this.origin=r.Point(t,i),this.viewTranslate=r.Point(t,i),this.draging=!0,!0}},{key:"action",value:function(e){if(this.item)switch(e){case"click":if("video"===this.item.type)return this.videoWrap?(this.removeVideoContent(),"videoStop"):(this.view.classList.add("video-play"),this.view.classList.remove("info-icon"),this.addVideoContent(),"videoPlay");if("audio"===this.item.type)return this.tryPlayOrPauseMp3(),"audioPlay";break;case"removeSubContent":if("video"===this.item.type)return this.removeVideoContent(),"videoStop";"audio"===this.item.type&&this.audioPlayer&&!this.audioPlayer.paused&&(this.audioPlayer.pause(),this.iconHolder.firstChild.classList.remove("pgc-rev-wrap-rotate"));break;default:return}}},{key:"addVideoContent",value:function(){var e=this.item.mime_type.split("/")[1];if(e)switch(this.videoWrap||(this.videoWrap=document.createElement("div"),this.videoWrap.className="video-wrap",this.videoWrapFrame=this.imageFrame,this.itemInner.appendChild(this.videoWrap)),e){case"youtube":this.videoWrap.innerHTML=r.youTubeCode.replace("%id%",this.item.videoId);break;case"vimeo":this.videoWrap.innerHTML=r.vimeoCode.replace("%id%",this.item.videoId)}}},{key:"removeVideoContent",value:function(){this.videoWrap&&(this.view.classList.remove("video-play"),this.videoWrap.parentNode&&this.videoWrap.parentNode.removeChild(this.videoWrap),this.videoWrap=void 0,this.view.classList.remove("video-play"),"image"!==this.item.type&&this.view.classList.add("info-icon"))}},{key:"tryPlayOrPauseMp3",value:function(){"audio"===this.item.type&&this.delegate.config.sl_audioPlayer&&(this.audioPlayer=this.delegate.config.sl_audioPlayer,this.audioPlayer.src===this.item.url?this.audioPlayer.paused?(this.audioPlayer.play(),this.iconHolder.firstChild.classList.add("pgc-rev-wrap-rotate")):(this.audioPlayer.pause(),this.iconHolder.firstChild.classList.remove("pgc-rev-wrap-rotate")):(this.audioPlayer.src=this.item.url,this.audioPlayer.play(),this.iconHolder.firstChild.classList.add("pgc-rev-wrap-rotate")))}},{key:"posX",set:function(e){this.view.style.left="".concat(this.size.width*e,"px"),this.positionIndex=e}},{key:"imageFrame",set:function(e){this.itemImg.style.left="".concat(e.x,"px"),this.itemImg.style.top="".concat(e.y,"px"),this.itemImg.style.width="".concat(e.width,"px"),this.itemImg.style.height="".concat(e.height,"px"),this.imageFramePr=e},get:function(){return this.imageFramePr}},{key:"videoWrapFrame",set:function(e){this.videoWrap.style.width="".concat(e.width,"px"),this.videoWrap.style.height="".concat(e.height,"px"),this.videoWrap.style.left="".concat(e.x,"px"),this.videoWrap.style.top="".concat(e.y,"px")}},{key:"isInScale",get:function(){return 1!==this.newScale||0!==this.origin.x||0!==this.origin.y}},{key:"viewTranslate",set:function(e){this.viewTranslatePr=e,this.itemInner.style.transform="matrix(".concat(this.scale,", 0, 0, \n        ").concat(this.scale,", ").concat(e.x,", ").concat(e.y,")")},get:function(){return this.viewTranslatePr}},{key:"isSubContentActiv",get:function(){return!!this.videoWrap}}]),e}(),le=function(){function e(t,i){ne(this,e),this.iconSet=e.ICONS,this.config=e.CONFIG,r.copyProperties(i,this.config),this.appSet=t,this.appName=t.appName,this.cacherItemsList=this.appSet.cacheItemsList,this.id="".concat(this.appName,"_vitSlider_"),this.itemsList=void 0,this.visibleBounds=r.Rect(0,0,0,0),this.isControllsShow=!1,this.isZooming=!1,this.needHideControlls=!1,this.naviButtonsStatus=void 0,this.firsrTap=void 0,this.removing=!1,this.createlayoutDelay=void 0,this.intitByTermDelay=void 0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.view.id="".concat(this.id,"main"),this.resizeDelay=void 0,this.size=r.Size(0,0);var o=document.createElement("div");o.className="".concat(e.classPref,"bg"),this.config.sl_backgroundColor&&(this.background=o,this.background.style.backgroundColor=this.config.sl_backgroundColor,this.view.appendChild(o)),this.sliderPages=[],this.dragging=!1,this.zoomingDrag=!1,this.speedX=0,this.speedY=0,this.scrollViewTranslateXPr=0,this.scrollViewTranslateYPr=0,this.startDragHandler=void 0,this.currentItemIndex=void 0,this.startItemIndex=0,this.items=[],this.itemsAmount=0,this.itemNumPr=void 0,this.pageInFocus=void 0,this.pageInFocusPrev=void 0,this.zoomingPage=void 0,this.FF_Mode=!1,this.mouseWheelMode=!1,this.animaSliderRender=void 0,this.slider=document.createElement("div"),this.slider.className="".concat(e.classPref,"wrap"),this.view.appendChild(this.slider)}return ae(e,null,[{key:"classPref",get:function(){var e=oe.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"ICONS",get:function(){return{PLAY_SVG:'<svg version="1.1" viewBox="0 0 50 60" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M48.479,27.435L5.672,0.915C2.553-1.132,0,0.374,0,4.261v51.48c0,3.885,2.553,5.391,5.672,3.346l42.807-26.52   c0,0,1.521-1.07,1.521-2.566S48.479,27.435,48.479,27.435z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',NOTE_SVG:'<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',NEXT_ARR:'<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon points="160,115.4 180.7,96 352,256 180.7,416 160,396.7 310.5,256 "/></svg>',PREV_ARR:'<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon points="352,115.4 331.3,96 160,256 331.3,416 352,396.7 201.5,256 "/></svg>'}}},{key:"EVENTS",get:function(){return{COLLECTION_DATA_REDY:"COLLECTION_DATA_REDY",UPDATE_CONTROLS:"UPDATE_CONTROLS",ZOOM:"ZOOM",REMOVE_LIGHTBOX:"REMOVE_LIGHTBOX"}}},{key:"CONFIG",get:function(){return{sl_preloaderColor:"#494949",sl_backgroundColor:"rgba(0,0,0,1)",sl_navigationIconColor:"rgba(255,255,255,1)",sl_navigationIconColorOver:"rgba(0,0,0,0.8)",sl_navigationColor:"rgba(0,0,0,0.8)",sl_navigationColorOver:"rgba(255,255,255,1)",sl_zoom:!0,sl_mouseWheel:!0,sl_fit:!1,sl_xOffset:2,sl_yOffset:0,sl_canRemoved:!1,sl_copyR_Alert:"Hello, this photo is mine!",sl_audioPlayer:void 0}}}]),ae(e,[{key:"copyRight",value:function(){var t,i=this;return function(o){if(!r.Device.ios||"mouseup"!==o.type){var n,s;o.changedTouches&&o.changedTouches[0]?(n=o.changedTouches[0].pageX,s=o.changedTouches[0].pageY):(n=o.pageX,s=o.pageY),n-=i.viewOfsetX,s-=i.viewOfsetY;var a=i.itemsList[i.itemIndex];if(a.webView&&a.webView===o.target){o.preventDefault();var l=document.getElementById("gm_copyr");l&&(clearTimeout(t),l.parentNode.removeChild(l),l=null),(l=document.createElement("div")).id="gm_copyr",l.className="".concat(e.classPref,"hints"),l.innerHTML=a.user&&a.user.displayname?"Hey, this photo is &#169;".concat(a.user.displayname):i.config.sl_copyR_Alert,l.style.top="".concat(s,"px"),l.style.left="".concat(n,"px"),i.view.appendChild(l),t=setTimeout((function(){l.parentNode.removeChild(l)}),1e3)}}}}},{key:"initByStage",value:function(e){e.appendChild(this.view),this.copyR=this.copyRight(),document.addEventListener("contextmenu",this.copyR,!1),this.createControlls()}},{key:"addToStage",value:function(){var t=this,i=document.getElementsByTagName("body")[0];this.view.style.zIndex=r.findHighestZIndex(i)+1,r.disableBodyScrollSlider(),document.addEventListener("contextmenu",t.copyR,!1),i.appendChild(this.view),setTimeout((function(){t.view.classList.add("".concat(e.classPref,"activate"))}),30)}},{key:"initByList",value:function(e,t){if(e&&e.length>0){var i=this;this.currentItemIndex=t&&0!==t?0:void 0,this.startItemIndex=t||0,this.itemsList=e,this.createlayoutDelay=setTimeout((function(){i.createLayout()}),100)}}},{key:"prepareToRemove",value:function(){if(!this.removing){clearTimeout(this.createlayoutDelay),clearTimeout(this.intitByTermDelay);var t=this.scrollViewTranslateY/(this.size.height/2);this.pageInFocus&&this.pageInFocus.isSubContentActiv&&t<.2?"videoStop"===this.pageInFocus.action("click")&&(this.switchShowControlls(),this.needHideControlls=!this.isControllsShow):(this.removing=!0,this.cacherItemsList.init(),this.appSet.appEventManager.removeGMEventListener(e.EVENTS.COLLECTION_DATA_REDY,this,"dataLoaded"),this.view.removeEventListener("wheel",this.handlerMWheel,!1),document.removeEventListener("contextmenu",this.copyR,!1),this.config.sl_audioPlayer&&this.config.sl_audioPlayer.pause(),this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.REMOVE_LIGHTBOX,this,{})))}}},{key:"remoteControl",value:function(t){if(this.startDragHandler||"esc"===t)switch(t){case"prev":this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{draging:!0})),this.gotoPrev();break;case"next":this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{draging:!0})),this.gotoNext();break;case"space":this.firstClick(r.Point(this.view.clientWidth/2,this.view.clientHeight/2));break;case"esc":this.prepareToRemove();break;case"zoom":this.zoomSwitch()}}},{key:"showPreloader",value:function(e){var t;if(e){if(document.getElementById("".concat(this.appName,"slider_preloader")))return;(t=r.createPreloaderView(this.config.sl_preloaderColor)).id="".concat(this.appName,"slider_preloader"),this.view.appendChild(t)}else(t=document.getElementById("".concat(this.appName,"slider_preloader")))&&r.fadeOut(t,(function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),500)}},{key:"createLayout",value:function(){var t=this;this.itemsAmount=this.itemsList.length,this.size=r.Size(this.view.clientWidth,this.view.clientHeight),r.miniScreen&&this.slider.classList.add("miniScreen"),this.size.width<500&&(this.prevButton.classList.add("next-prev-button-mini-screen"),this.nextButton.classList.add("next-prev-button-mini-screen")),this.initSlider(),this.size.height<700&&this.slider.classList.add("miniScreen"),this.config.sl_mouseWheel&&this.view.addEventListener("wheel",this.mouseWheelHandler(),!1),setTimeout((function(){t.showControlls(!0),t.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,t,{status:"ready"}))}),500)}},{key:"initSlider",value:function(){var e,t=0;if(0===this.sliderPages.length)for(t=0;t<3;t+=1)e=this.pageConstructor,this.slider.appendChild(e.view),this.sliderPages.push(e),e.resize(this.size);var i=this.itemsAmount>2?-1:0;for(t=0;t<3;t+=1)(e=this.sliderPages[t]).posX=i,e.itemIndex=void 0,i+=1;this.startDragHandler?this.gotoPageByNum(0):(this.startDragHandler=this.startDrag(),r.isTouchDevice&&(this.slider.addEventListener("touchstart",this.startDragHandler,r.passiveListener),window.addEventListener("touchmove",(function(){}),r.passiveListener)),this.slider.addEventListener("mousedown",this.startDragHandler,!1),this.gotoPageByNum(this.startItemIndex))}},{key:"sliderVerticalRender",value:function(){var t=1-Math.abs(this.scrollViewTranslateY)/(this.size.height/2);this.background&&(this.background.style.opacity=t),this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{backgroundOpacity:t})),this.needHideControlls||(t<.8?(this.showHideNaviButton("hide"),this.showControlls(!1)):(this.showHideNaviButton("show"),this.showControlls(!0)))}},{key:"tryOpenItemID",value:function(e){for(var t=0;t<this.itemsList.length;t+=1){if(this.itemsList[t].ID===e)return this.gotoPageByNum(t),!0}return!1}},{key:"gotoPageByNum",value:function(e){if((this.itemIndex||0===this.itemIndex)&&this.currentItemIndex){var t=this.itemIndex-e;this.gotoPageByIndex(this.currentItemIndex-t)}else this.gotoPageByIndex(e,!0)}},{key:"gotoNext",value:function(){this.gotoPageByIndex(this.currentItemIndex+1)}},{key:"gotoPrev",value:function(){this.gotoPageByIndex(this.currentItemIndex-1)}},{key:"renderTransformTo",value:function(e){var t=this;r.cancelAnimationFrame(t.animaSliderRender);var i=5*t.speedX,o=5*t.speedY,n=.2,s=.15;t.animaSliderRender=r.requestAnimationFrame((function a(){i=i*n+(e.x-t.scrollViewTranslateX)*s,o=o*n+(e.y-t.scrollViewTranslateY)*s,t.scrollViewTranslateX+=i,t.scrollViewTranslateY+=o,Math.abs(i)<1&&Math.abs(o)<1&&(t.dragging=!1),Math.abs(i)<.1&&Math.abs(o)<.1?(r.cancelAnimationFrame(t.animaSliderRender),t.scrollViewTranslateX=e.x,t.scrollViewTranslateY=e.y,t.sliderTransitionComplete({target:t.slider})):t.animaSliderRender=r.requestAnimationFrame(a)}))}},{key:"gotoPageByIndex",value:function(e,t){this.itemsAmount<3&&(e=Math.max(0,e),e=Math.min(this.itemsAmount-1,e)),Math.abs(this.currentItemIndex-e)>2&&(t=!0);var i=-e*this.size.width;t?(this.scrollViewTranslateX=i,this.sliderTransitionComplete({target:this.slider})):this.renderTransformTo(r.Point(i,this.scrollViewTranslateY))}},{key:"pageRenderByIndex",value:function(e){if(this.currentItemIndex!==e){void 0!==this.pageInFocus&&(this.pageInFocusPrev=this.pageInFocus,this.pageInFocus.isInScale&&(this.zoomingPage=this.pageInFocus));var t=0;if(this.itemsAmount<3){for(t=0;t<this.itemsAmount;t+=1)this.sliderPages[t].initByItem(this.itemsList[t]);return this.pageInFocus=this.sliderPages[e],this.currentItemIndex=e,void(this.itemIndex=e)}var i=(e+1)%3;i<0&&(i+=3);var o=i-1>=0?i-1:2,n=i+1<3?i+1:0,s=[o,i,n],a=[e-1,e,e+1];for(t=0;t<s.length;t+=1){this.sliderPages[s[t]].posX=a[t]}this.currentItemIndex=e,this.pageInFocus=this.sliderPages[i],this.itemIndex=e<0?this.itemsAmount+(e%this.itemsAmount==0?-this.itemsAmount:e%this.itemsAmount):e%this.itemsAmount,this.sliderPages[i].initByItem(this.itemsList[this.itemIndex]),this.sliderPages[n].initByItem(this.itemIndex+1<this.itemsAmount?this.itemsList[this.itemIndex+1]:this.itemsList[0]),this.sliderPages[o].initByItem(this.itemIndex-1<0?this.itemsList[this.itemsAmount-1]:this.itemsList[this.itemIndex-1])}}},{key:"sliderTransitionComplete",value:function(e){if(e.target===this.slider){var t=this.cacherItemsList.status();(t.list!==this.itemsList||t.list===this.itemsList&&this.itemIndex>=t.index)&&this.cacherItemsList.init(this.itemsList,this.itemIndex,5),void 0!==this.pageInFocusPrev&&this.pageInFocusPrev.action("removeSubContent"),void 0!==this.zoomingPage&&this.zoomingPage!==this.pageInFocus&&this.zoomingPage.normalize()}}},{key:"mouseWheelHandler",value:function(){var e,t=this,i=0,o=0;return t.handlerMWheel=function(n){if(!1!==t.mouseWheelMode){n.stopPropagation(),n.preventDefault();var s=r.Point(0,0);if("deltaX"in n)1===n.deltaMode?(s.x=18*n.deltaX,s.y=18*n.deltaY):(s.x=n.deltaX,s.y=n.deltaY);else if("wheelDelta"in n)n.wheelDeltaX&&(s.x=-.16*n.wheelDeltaX),n.wheelDeltaY?s.y=-.16*n.wheelDeltaY:s.y=-.16*n.wheelDelta;else{if(!("detail"in n))return;s.y=n.detail}var a=t.size.width/2,l=t.size.height/2;n.pageX&&(a=n.pageX,l=n.pageY),a-=t.viewOfsetX,l-=t.viewOfsetY,t.dragging||(e!==t.pageInFocus&&(e=void 0),t.zoomingPage&&t.zoomingPage!==t.pageInFocus&&(t.zoomingPage.normalize(),t.zoomingPage=void 0),e||(t.needHideControlls=t.isControllsShow,e=t.pageInFocus,t.zoomingPage=t.pageInFocus),a===i&&l===o||(e.startDrag(r.Point(a,l)),i=a,o=l),e.zoomByScaleIter(s.y,r.Point(a,l)),e.isInScale?t.showControlls(!1):(t.showControlls(t.needHideControlls),e=void 0))}},t.handlerMWheel}},{key:"zoomSwitch",value:function(){var e=r.Point(this.view.clientWidth/2,this.view.clientHeight/2);this.secondClick(e)}},{key:"fitMode",value:function(e){this.config.sl_fit&&(this.FF_Mode=e);for(var t=0;t<this.sliderPages.length;t+=1)this.sliderPages[t].fit(!0)}},{key:"firstClick",value:function(e){if(this.pageInFocus.isPointInItem(e))if(this.pageInFocus.isInScale)this.pageInFocus.normalize(!0),this.zoomingPage=void 0,this.showControlls(this.needHideControlls);else switch(this.pageInFocus.action("click")){case"audioPlay":break;case"videoPlay":this.showControlls(!1),this.needHideControlls=!this.isControllsShow;break;case"videoStop":this.switchShowControlls(),this.needHideControlls=!this.isControllsShow;break;default:this.fitMode(this.isControllsShow),this.switchShowControlls(),this.needHideControlls=!this.isControllsShow}else this.config.sl_canRemoved?this.prepareToRemove():this.config.sl_canRemoved||this.pageInFocus&&this.pageInFocus.isSubContentActiv&&"videoStop"===this.pageInFocus.action("click")&&(this.switchShowControlls(),this.needHideControlls=!this.isControllsShow)}},{key:"secondClick",value:function(e){if(this.config.sl_zoom&&this.pageInFocus.isPointInItem(e))if(this.pageInFocus.isInScale)this.pageInFocus.normalize(!0),this.zoomingPage=void 0,this.showControlls(this.needHideControlls);else{if(this.zoomingPage&&this.zoomingPage.normalize(),this.zoomingPage=this.pageInFocus,this.zoomingPage.zoomIn(Math.abs(this.zoomingPage.imgScale-1)<.3?1.5:this.zoomingPage.imgScale,e),!this.zoomingPage.isInScale)return;this.needHideControlls=this.isControllsShow,this.showControlls(!1)}}},{key:"doubleClickController",value:function(e){var t=this;if(!r.Device.ios||"mouseup"!==e.type){var i,o;if(e.changedTouches&&e.changedTouches[0]?(i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY):(i=e.pageX,o=e.pageY),i-=this.viewOfsetX,o-=this.viewOfsetY,this.firsrTap)return clearTimeout(this.firsrTap),this.firsrTap=void 0,void this.secondClick(r.Point(i,o));this.firsrTap=setTimeout((function(){t.firsrTap=void 0,t.firstClick(r.Point(i,o))}),400)}}},{key:"startDrag",value:function(){var t,i,o,n,s,a,l,c,h,d=this,p=4,m=!0,u=45,v=d.viewOfsetY,g=d.viewOfsetX,w=0,f=0,b=0;function x(e){var t,c,h,x,y;if(e.originalEvent&&(e=e.originalEvent),e.touches?!d.dragging&&e.touches.length>1?d.config.sl_zoom&&(l=!0,t=e.touches[0].pageX,c=e.touches[0].pageY,h=e.touches[1].pageX,x=e.touches[1].pageY,y=Math.hypot(t-h,c-x),t+=(h-t)/2,c+=(x-c)/2):(l=!1,t=e.touches[0].pageX,c=e.touches[0].pageY):(t=e.pageX,c=e.pageY),t-=g,c-=v,!(r.Device.ios&&i<=20)){var S,C;if(void 0===a)m&&c===o||!m&&t===i?a=!1:(S=180*Math.atan2(Math.abs(c-o),Math.abs(t-i))/Math.PI,a=m?S>45:90-S>u);if(!d.dragging&&d.zoomingPage){e.preventDefault();var k=Math.abs(i-t)>p?i-t:0,E=Math.abs(o-c)>p?o-c:0;return(k||E)&&(d.zoomingDrag=!0),void(l?d.pageInFocus.zoomByScaleDeltaToPoint(y,r.Point(k,E),r.Point(t,c)):d.zoomingPage&&d.zoomingPage.dragin(r.Point(k,E)))}a?(w=0,(C=Math.abs(o-c)>p?o-c:0)&&(d.dragging=!0),d.config.sl_canRemoved&&(d.scrollViewTranslateY=s-C)):(e.preventDefault(),d.transition=!0,(C=Math.abs(i-t)>p?i-t:0)&&(d.dragging=!0),d.scrollViewTranslateX=n-C,f=b,b=d.scrollViewTranslateX,w=b-f)}}function y(e){if(a=void 0,r.isTouchDevice&&(document.removeEventListener("touchmove",x,r.passiveListener),document.removeEventListener("touchend",y,r.passiveListener)),document.removeEventListener("mousemove",x,!1),document.removeEventListener("mouseup",y,!1),document.removeEventListener("oncontextmenu",y,!1),d.dragging||l||d.zoomingDrag){if(d.zoomingPage&&(d.zoomingPage.stopDrag(),l=!1),!d.zoomingPage)if(Math.abs(d.scrollViewTranslateY)<p){var i=d.currentItemIndex,o=r.isTouchDevice?7:1;Math.abs(w)>o&&t===d.currentItemIndex&&(i=w>0?i-1:i+1),d.speedX=w,d.scrollViewTranslateY=0,d.gotoPageByIndex(i)}else{var n=d.scrollViewTranslateY/(d.size.height/2);Math.abs(n)>.2?d.prepareToRemove():d.renderTransformTo(r.Point(d.scrollViewTranslateX,0))}this.dragging=!1}else d.doubleClickController(e);d.zoomingDrag=!1,h=e.type}return function(a){var p,m,u,S;"mousedown"===a.type&&"touchend"===h||(d.zoomingPage=d.pageInFocus.isInScale?d.pageInFocus:void 0,r.cancelAnimationFrame(d.animaSliderRender),t=d.currentItemIndex,a.originalEvent&&(a=a.originalEvent),r.isTouchDevice||a.preventDefault(),a.button&&0!==a.button||(a.touches?!d.dragging&&a.touches.length>1?(l=!0,p=a.touches[0].pageX,m=a.touches[0].pageY,u=a.touches[1].pageX,S=a.touches[1].pageY,c=Math.hypot(p-u,m-S),p+=(u-p)/2,m+=(S-m)/2,d.zoomingPage=d.pageInFocus,d.needHideControlls=d.isControllsShow,d.showControlls(!1)):(p=a.touches[0].pageX,m=a.touches[0].pageY):(p=a.pageX,m=a.pageY),p-=g,m-=v,d.speedX=0,d.speedY=0,w=0,f=0,b=d.scrollViewTranslateX,i=p,o=m,n=d.scrollViewTranslateX,s=d.scrollViewTranslateY,d.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,d,{draging:!0})),d.zoomingPage&&d.zoomingPage.startDrag(r.Point(i,o),c),r.isTouchDevice&&(document.addEventListener("touchmove",x,r.passiveListener),document.addEventListener("touchend",y,r.passiveListener)),document.addEventListener("mousemove",x,!1),document.addEventListener("mouseup",y,!1),document.addEventListener("oncontextmenu",y,!1)))}}},{key:"createControlls",value:function(){var t=this;function i(e){e.style.backgroundColor=t.config.sl_navigationColorOver,e.childNodes[0].style.fill=t.config.sl_navigationIconColorOver}function o(e){e.style.backgroundColor=t.config.sl_navigationColor,e.childNodes[0].style.fill=t.config.sl_navigationIconColor}this.prevButton=document.createElement("div"),this.prevButton.className="".concat(e.classPref,"next-prev-button"),this.prevButton.style.left="".concat(0,"px"),this.prevButton.style.transform="translate(-150%, -50%)",this.prevButton.style.backgroundColor=t.config.sl_navigationColor,this.prevButton.style.visibility="hidden",this.prevButton.innerHTML=e.ICONS.PREV_ARR,this.prevButton.childNodes[0].style.fill=t.config.sl_navigationIconColor,this.prevButton.onmouseenter=function(){i(this)},this.prevButton.onmouseleave=function(){o(this)},this.prevButton.onclick=function(){t.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,t,{draging:!0})),t.gotoPrev(),r.Device.desktop||o(this)},this.view.appendChild(this.prevButton),this.nextButton=document.createElement("div"),this.nextButton.className="".concat(e.classPref,"next-prev-button"),this.nextButton.style.backgroundColor=t.config.sl_navigationColor,this.nextButton.style.right="0px",this.nextButton.style.transform="translate(150%, -50%)",this.nextButton.style.visibility="hidden",this.nextButton.innerHTML=e.ICONS.NEXT_ARR,this.nextButton.childNodes[0].style.fill=t.config.sl_navigationIconColor,this.nextButton.onmouseenter=function(){i(this)},this.nextButton.onmouseleave=function(){o(this)},this.nextButton.onclick=function(){t.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,t,{draging:!0})),t.gotoNext(),r.Device.desktop||o(this)},this.view.appendChild(this.nextButton)}},{key:"switchShowControlls",value:function(){this.showControlls(!this.isControllsShow)}},{key:"showHideNaviButton",value:function(e){if(this.naviButtonsStatus!==e){switch(e){case"show":if(this.isZoom)return;this.prevButton.style.transform="translate(0%, -50%)",this.nextButton.style.transform="translate(0%, -50%)";break;case"hide":this.prevButton.style.transform="translate(-150%, -50%)",this.nextButton.style.transform="translate(150%, -50%)"}this.naviButtonsStatus=e}}},{key:"showControlls",value:function(t){this.isZooming!==this.isZoom&&(this.isZooming=this.isZoom,this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{zoom:this.isZoom?"zoomIn":"zoomOut"})),this.isZoom?this.showHideNaviButton("hide"):this.showHideNaviButton("show")),this.isControllsShow!==t&&(t?(this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{controls:"show"})),this.showHideNaviButton("show")):this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{controls:"hide"})),this.isControllsShow=t)}},{key:"updateControlls",value:function(){this.itemsAmount<3?(0===this.itemIndex?this.prevButton.style.visibility="hidden":this.prevButton.style.visibility="visible",this.itemIndex===this.itemsAmount-1?this.nextButton.style.visibility="hidden":this.nextButton.style.visibility="visible",1===this.itemsAmount&&(this.prevButton.style.visibility="hidden",this.nextButton.style.visibility="hidden")):(this.prevButton.style.visibility="visible",this.nextButton.style.visibility="visible");var t=this.itemsList[this.itemIndex];t&&this.appSet.appEventManager.dispatchGMEvent(r.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{item:t,itemIndex:this.itemIndex}))}},{key:"resizeHandler",value:function(e){var t=this;this.resizeDelay&&clearTimeout(this.resizeDelay),r.cancelAnimationFrame(this.animaSliderRender),this.resizeDelay=setTimeout((function(){if(t.size=e,t.size.height<410&&(t.showControlls(!1,!0),t.needHideControlls=!0),t.size.width<500?(t.prevButton.classList.add("next-prev-button-mini-screen"),t.nextButton.classList.add("next-prev-button-mini-screen")):(t.prevButton.classList.remove("next-prev-button-mini-screen"),t.nextButton.classList.remove("next-prev-button-mini-screen")),0!==t.sliderPages.length){for(var i=0;i<t.sliderPages.length;i+=1)t.sliderPages[i].resize(t.size);t.gotoPageByIndex(t.currentItemIndex,!0),t.showControlls(!0)}}),70)}},{key:"viewOfsetY",get:function(){return this.view.getBoundingClientRect().top+r.pageYOffset}},{key:"viewOfsetX",get:function(){return this.view.getBoundingClientRect().left+r.pageXOffset}},{key:"itemIndex",set:function(e){this.itemNumPr=e,this.updateControlls()},get:function(){return this.itemNumPr}},{key:"pageConstructor",get:function(){return new re(this)}},{key:"scrollViewTranslateY",set:function(e){this.scrollViewTranslateYPr=e,this.slider.style.transform="translate3d(".concat(this.scrollViewTranslateX,"px,").concat(e,"px, 0px"),0!==e&&this.sliderVerticalRender()},get:function(){return this.scrollViewTranslateYPr}},{key:"scrollViewTranslateX",set:function(e){this.scrollViewTranslateXPr=e,this.slider.style.transform="translate3d(".concat(e,"px,").concat(this.scrollViewTranslateY,"px, 0px"),this.pageRenderByIndex(-Math.round(e/this.size.width))},get:function(){return this.scrollViewTranslateXPr}},{key:"isZoom",get:function(){return!!this.pageInFocus&&this.pageInFocus.isInScale}}]),e}();function ce(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){function t(){return de(this,t),pe(this,me(t).apply(this,arguments))}return ue(t,e),t}(re),we=function(e){function t(){return de(this,t),pe(this,me(t).apply(this,arguments))}var i,o,n;return ue(t,e),i=t,(o=[{key:"pageConstructor",get:function(){return new ge(this)}}])&&ce(i.prototype,o),n&&ce(i,n),t}(le);function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xe(e,t,i){return t&&be(e.prototype,t),i&&be(e,i),e}var ye=function(){function e(t,i){fe(this,e),this.delegate=t,this.appName=t.appName,this.config=e.CONFIG,m.copyProperties(i,this.config);var o='<svg class="'.concat(e.classPref,'progress-radial" width="32px" height="32px" viewBox="0 0 100 100" shape-rendering="geometricPrecision">\n    <defs><mask id="circle_mask" x="0" y="0" width="100" height="100" maskUnits="userSpaceOnUse">\n    <circle cx="50" cy="50" r="51" stroke-width="0" fill="black" opacity="1"/>\n    <circle cx="50" cy="50" r="50" stroke-width="0" fill="white" opacity="1"/>\n    <circle class="').concat(e.classPref,'progress-radial-mask-inner" cx="50" cy="50" r="40" stroke-width="0" fill="black" opacity="1"/>\n    </mask></defs><g mask="url(#circle_mask)">\n    <circle class="').concat(e.classPref,'progress-radial-track" cx="50" cy="50" r="50" stroke-width="0" opacity="1"/>\n    <path class="').concat(e.classPref,'progress-radial-bar" transform="translate(50, 50)"d="M 0 0"></path></g></svg>');this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"wrap"),this.view.innerHTML=o,this.bar=this.view.getElementsByClassName("".concat(e.classPref,"progress-radial-bar"))[0],this.bar.style.fill=this.config.ap_autoPlayColor,this.view.getElementsByClassName("".concat(e.classPref,"progress-radial-track"))[0].style.fill=this.config.ap_autoPlayBgColor,this.animRatio=25,this.counter=0,this.durationCount=25*this.config.ap_slideshowDelay,this.interval=void 0,this.anPart=0,this.status=void 0}return xe(e,null,[{key:"classPref",get:function(){return"woowbox-lb-modern-autoplay-"}},{key:"CONFIG",get:function(){return{ap_autoPlayBgColor:"rgba(255,255,255, 0.3)",ap_autoPlayColor:"rgba(255,255,255, 1)",ap_slideshowDelay:8}}},{key:"EVENTS",get:function(){return{NEXT_SLIDE:"NEXT_SLIDE",PLAY:"PLAY"}}}]),xe(e,[{key:"drawProgress",value:function(t){if(!isNaN(t)){t=e.clamp(parseFloat(t),0,1);var i=e.clamp(360*t,0,359.99999),o=i*Math.PI/180,n=51*Math.sin(o),s=-51*Math.cos(o),a=i>180?1:0,r="M 0 0 v -%@ A %@ %@ 1 ".replace(/%@/gi,51),l="".concat(r+a," 1 ").concat(n," ").concat(s," z");this.bar.setAttribute("d",l)}}},{key:"switch",value:function(){"play"===this.status?this.clear():this.start()}},{key:"start",value:function(){var t=this;this.view.style.opacity=1;var i=1/this.durationCount;this.interval=setInterval((function(){t.counter+=1,t.counter>=t.durationCount&&(clearInterval(t.interval),m.moduleSettings(t.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.NEXT_SLIDE,t,{})),t.counter=0,t.start()),t.drawProgress(i*t.counter)}),1e3/this.animRatio),"play"!==this.status&&(this.status="play",m.moduleSettings(t.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.PLAY,t,{status:this.status})))}},{key:"pause",value:function(){clearInterval(this.interval),this.status="pause"}},{key:"clear",value:function(){clearInterval(this.interval),this.counter=0,this.drawProgress(0),this.view.style.opacity=0,this.status="stop",m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.PLAY,this,{status:this.status}))}}],[{key:"clamp",value:function(e,t,i){return Math.max(t,Math.min(i,e))}}]),e}(),Se=function(){function e(t,i){fe(this,e);var o=this;this.delegate=t,this.config=e.CONFIG,m.copyProperties(i,this.config),m.PR||(this.config.lb_thumbBarEnable=!1,this.config.lb_itemInfoEnable=!0,this.config.lb_itemShare=!0,this.config.lb_itemDownload=!0,this.config.lb_discuss=!0),this.appName=t.appName,this.headerFooterStatus=void 0,this.headerStatus=void 0,this.mouseMovingTimer=void 0,this.resizeDelay=void 0,this.size=m.Size(0,0),this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.view.id="".concat(this.appName,"_lightbox"),m.Device.desktop||(this.view.style.height="100%");var n=document.createElement("div");n.className="".concat(e.classPref,"bg"),this.background=n,this.backgroundOpacity=1,this.background.style.backgroundColor=this.config.lb_backgroundColor,this.view.appendChild(n);var s=window.WoowBox&&window.WoowBox.key&&""!==window.WoowBox.key;this.content=document.createElement("div"),this.content.className="".concat(e.classPref,"content");var a=we.CONFIG;a.sl_backgroundColor=!1,a.sl_preloaderColor=this.config.lb_preloaderColor,a.sl_navigationColor=this.config.lb_sliderNavigationColor,a.sl_navigationIconColor=this.config.lb_sliderNavigationIconColor,a.sl_navigationColorOver=this.config.lb_sliderNavigationColorOver,a.sl_navigationIconColorOver=this.config.lb_sliderNavigationIconColorOver,a.sl_fit=!0,a.sl_yOffset=60,a.sl_canRemoved=!0,a.sl_copyR_Alert=this.config.lb_copyR_Alert,a.sl_zoom=this.config.lb_zoom,m.moduleSettings(this.appName).appEventManager.addGMEventListener(we.EVENTS.UPDATE_CONTROLS,this,"updateViewControls"),m.moduleSettings(this.appName).appEventManager.addGMEventListener(we.EVENTS.REMOVE_LIGHTBOX,this,"prepareToRemove"),m.moduleSettings(this.appName).appEventManager.addGMEventListener(ye.EVENTS.PLAY,this,"slideShowSwitchHandler"),m.moduleSettings(this.appName).appEventManager.addGMEventListener(ye.EVENTS.NEXT_SLIDE,this,"slideshowHandler"),m.moduleSettings(this.appName).appEventManager.addGMEventListener(te.EVENTS.ITEMS_SCROLL_BAR_ITEM_ACTION,this,"scrollBarHandler"),this.slider=new we(m.moduleSettings(this.appName),a),this.slider.initByStage(this.content),this.slider.mouseWheelMode=this.config.lb_zoom,this.view.appendChild(this.content),this.header=document.createElement("div"),this.header.className="".concat(e.classPref,"header"),this.header.style.height="".concat(this.config.lb_headerFooterHeight,"px"),this.header.style.backgroundColor=this.config.lb_headerFooterColor,this.view.appendChild(this.header),this.footer=document.createElement("div"),this.footer.className="".concat(e.classPref,"footer"),this.footer.style.height="".concat(this.config.lb_headerFooterHeight,"px"),this.footer.style.backgroundColor=this.config.lb_headerFooterColor,this.view.appendChild(this.footer),this.config.lb_itemDescriptionShow&&(this.config.lb_itemTitleEnable||this.config.lb_itemDescriptionEnable)&&(this.descriptionWrap=document.createElement("div"),this.descriptionWrap.className="".concat(e.classPref,"description-wrap"),this.config.lb_thumbBarEnable||(this.descriptionWrap.style.width="".concat(100,"%")),this.footer.appendChild(this.descriptionWrap),this.config.lb_itemTitleEnable&&(this.itemTitle=this.config.lb_itemInfoEnable&&s?document.createElement("a"):document.createElement("div"),this.itemTitle.className="".concat(e.classPref,"item-title"),this.itemTitle.style.fontSize="".concat(this.config.lb_itemTitleFontSize,"px"),this.itemTitle.style.color=this.config.lb_itemTitleTextColor,this.config.lb_itemDescriptionShow&&this.config.lb_itemInfoEnable&&s&&this.itemTitle.addEventListener("click",(function(){o.currentItem&&m.moduleSettings(o.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.NEED_MODAL,o,{type:"info",item:o.currentItem}))}),!1),this.descriptionWrap.appendChild(this.itemTitle)),this.config.lb_itemDescriptionEnable&&(this.itemDescription=document.createElement("div"),this.itemDescription.className="".concat(e.classPref,"item-description"),this.itemDescription.style.fontSize="".concat(this.config.lb_itemDescriptionFontSize,"px"),this.itemDescription.style.color=this.config.lb_itemDescriptionTextColor,this.config.lb_itemInfoEnable&&s&&(this.itemDescription.style.cursor="pointer",this.itemDescription.addEventListener("click",(function(){o.currentItem&&m.moduleSettings(o.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.NEED_MODAL,o,{type:"info",item:o.currentItem}))}),!1)),this.descriptionWrap.appendChild(this.itemDescription)));var r=document.createElement("div");if(r.className="".concat(e.classPref,"free-space"),this.footer.appendChild(r),this.config.lb_thumbBarEnable&&s){var l=te.CONFIG;l.isb_itemBgColor=this.config.lb_thumbBarHoverColor,this.thumbsBar=new te(m.moduleSettings(this.appName),l),this.footer.appendChild(this.thumbsBar.view)}this.descriptionWrap||((r=document.createElement("div")).className="".concat(e.classPref,"free-space"),this.footer.appendChild(r));var c=document.createElement("div");c.className="".concat(e.classPref,"caption-wrap"),c.style.color=this.config.lb_itemCounterColor,this.item_current_info=document.createElement("div"),this.item_current_info.className="".concat(e.classPref,"caption-current"),c.appendChild(this.item_current_info);var h=document.createElement("div");if(h.className="".concat(e.classPref,"caption-delimiter"),h.style.backgroundColor=this.config.lb_itemCounterColor,h.style.opacity=.7,c.appendChild(h),this.items_amount_info=document.createElement("div"),this.items_amount_info.className="".concat(e.classPref,"caption-all"),c.appendChild(this.items_amount_info),this.counter=c,this.config.lb_thumbBarEnable||this.descriptionWrap?this.header.appendChild(c):this.footer.insertBefore(c,this.footer.childNodes[1]),this.config.lb_slideshowEneble){var d=ye.CONFIG;d.autoPlayBgColor=this.config.lb_slideshowIndicatorColorBg,d.autoPlayColor=this.config.lb_slideshowIndicatorColor,d.slideshowDelay=this.config.lb_slideshowTimer,this.autoPlay=new ye(this,d),this.header.appendChild(this.autoPlay.view)}(r=document.createElement("div")).className="".concat(e.classPref,"free-space"),this.header.appendChild(r),this.itemMenuWrap=document.createElement("div"),this.itemMenuWrap.className="".concat(e.classPref,"item-menu-wrap"),this.header.appendChild(this.itemMenuWrap);var p=q.CONFIG;p.im_link=!0,p.im_play=m.Device.desktop&&this.config.lb_slideshowEneble,p.im_zoom=m.Device.desktop&&this.config.lb_zoom,p.im_discuss=this.config.lb_discuss&&s,p.im_info=this.config.lb_itemInfoEnable&&s,p.im_share=this.config.lb_itemShare&&s,p.im_download=this.config.lb_itemDownload&&s,p.im_close=m.Device.desktop,p.im_fulscreen=!m.Device.ios,p.im_backgroundColor=this.config.lb_menuBackgroundColor,p.im_backgroundColorOver=this.config.lb_menuBackgroundColorOver,p.im_iconColor=this.config.lb_menuIconColor,p.im_iconColorOver=this.config.lb_menuIconColorOver,this.itemMenu=new q(m.moduleSettings(this.appName),q.MENU_TYPE.LIGHTBOX,p),this.itemMenuWrap.appendChild(this.itemMenu.view),m.moduleSettings(this.appName).appEventManager.addGMEventListener(q.EVENTS.ITEM_MENU_ACTION,this,"itemMenuActionHandler"),this.addToStage()}return xe(e,null,[{key:"classPref",get:function(){return"woowbox-lb-modern-"}},{key:"EVENTS",get:function(){return{NEED_MODAL:"NEED_MODAL",REMOVE_LIGHTBOX:"REMOVE_LIGHTBOX",FULLSCREEN_SWITCH:"FULLSCREEN_SWITCH"}}},{key:"CONFIG",get:function(){return{lb_backgroundColor:"rgba(0,0,0,0.9)",lb_preloaderColor:"#494949",lb_headerFooterHeight:58,lb_headerFooterColor:"rgba(0,0,0,0.4)",lb_sliderNavigationColor:"rgba(0,0,0,0.8)",lb_sliderNavigationIconColor:"rgba(255,255,255,1)",lb_sliderNavigationColorOver:"rgba(255,255,255,1)",lb_sliderNavigationIconColorOver:"rgba(0,0,0,0.8)",lb_itemCounterColor:"rgba(255,255,255,1)",lb_itemDescriptionShow:!0,lb_itemTitleEnable:!0,lb_itemTitleFontSize:18,lb_itemTitleTextColor:"rgba(255,255,255,1)",lb_itemDescriptionEnable:!0,lb_itemDescriptionFontSize:16,lb_itemDescriptionTextColor:"rgba(255,255,255,0.8)",lb_thumbBarEnable:!0,lb_thumbBarHoverColor:"rgba(255,255,255,1)",lb_itemInfoEnable:!0,lb_itemShare:!0,lb_itemDownload:!0,lb_zoom:!0,lb_discuss:!0,lb_menuBackgroundColor:"rgb(0,0,0)",lb_menuBackgroundColorOver:"rgb(255,255,255)",lb_menuIconColor:"rgb(255,255,255)",lb_menuIconColorOver:"rgb(0,0,0)",lb_slideshowEneble:!0,lb_slideshowTimer:8,lb_slideshowAutoPlay:!1,lb_slideshowIndicatorColorBg:"rgba(255,255,255,0.7)",lb_slideshowIndicatorColor:"rgba(255,255,255,1)",lb_copyR_Alert:"Hello, this photo is mine!"}}}]),xe(e,[{key:"itemMenuActionHandler",value:function(t){if(t.target===this.itemMenu){var i=t.params.item,o=t.params.type;if(i&&o){var n,s,a={};switch(a.item=i,o){case"info":a.type="info",m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.NEED_MODAL,this,a)),m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(ye.EVENTS.PLAY,this,{action:"stop"}));break;case"link":i.link&&window.open(i.link,this.config.lb_linkTargetWindow);break;case"like":this.delegate.likeItem=i,this.itemMenu.updateForItem(i);break;case"bookmark":this.delegate.bookmarkItem=i,this.itemMenu.updateForItem(i);break;case"share":a.type="share",m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.NEED_MODAL,this,a)),m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(ye.EVENTS.PLAY,this,{action:"stop"}));break;case"zoom":"function"==typeof this.sliderZoomSwitch&&this.sliderZoomSwitch();break;case"close":this.prepareToRemove();break;case"play":m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(ye.EVENTS.PLAY,this,{}));break;case"download":n=i.url,(s=document.createElement("A")).href=n,s.download=n.substr(n.lastIndexOf("/")+1),document.body.appendChild(s),s.click(),document.body.removeChild(s);break;case"coments":"open"===i.comment_status&&(n="".concat(i.sharelink,"/#comments"),window.open(n,"_self"));break;case"fullscreen":m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.FULLSCREEN_SWITCH,this,{}))}}}}},{key:"sliderZoomSwitch",value:function(){this.slider&&this.slider.remoteControl("zoom")}},{key:"slideShowSwitchHandler",value:function(e){if(this.autoPlay)if(e.params.action)switch(e.params.action){case"play":this.autoPlay.start();break;case"stop":this.autoPlay.clear()}else e.params.status?this.itemMenu&&this.itemMenu.playButtonStatus(e.params.status):this.autoPlay.switch()}},{key:"slideshowHandler",value:function(){this.slider&&this.slider.gotoNext()}},{key:"scrollBarHandler",value:function(e){if(this.slider&&e.params&&e.params.action&&(e.params.index||0===e.params.index))switch(e.params.action){case"click":this.slider.gotoPageByIndex(e.params.index)}}},{key:"keydownHandler",value:function(){var e=this;return e.handlerKB=function(t){if(e.delegate.modal)e.delegate.modal.prepareToRemove();else switch(t.keyCode){case 37:e.slider.remoteControl("prev");break;case 39:e.slider.remoteControl("next");break;case 32:m.preventDefault(t),e.slider.remoteControl("space");break;case 27:e.slider.prepareToRemove()}},e.handlerKB}},{key:"addToStage",value:function(){var t=this,i=document.getElementsByTagName("body")[0];this.view.style.zIndex=m.findHighestZIndex(i)+1,m.disableBodyScrollSlider(),document.addEventListener("keydown",t.keydownHandler(),!0),i.appendChild(this.view),setTimeout((function(){t.view.classList.add("".concat(e.classPref,"lightbox-activate"))}),30)}},{key:"initByList",value:function(e,t){e&&e.length>0&&(this.currentItemIndex=t&&0!==t?0:void 0,this.startItemIndex=t||0,this.itemsList=e,this.thumbsBar&&this.thumbsBar.initByItemslist(this.itemsList),this.slider.initByList(this.itemsList,this.startItemIndex),this.resizeHandler())}},{key:"prepareToRemove",value:function(){var t=this;if(!this.removing){if(this.removing=!0,this.slider.prepareToRemove(),this.view.removeChild(this.header),this.view.removeChild(this.content),this.view.removeChild(this.footer),this.background.classList.add("".concat(e.classPref,"deactivate")),this.background.style.opacity="0",document.removeEventListener("keydown",this.handlerKB,!0),document.getElementById("woowBoxAudioPlayer"))document.getElementById("woowBoxAudioPlayer").pause();m.moduleSettings(this.appName).appEventManager.removeGMEventListener(q.EVENTS.ITEM_MENU_ACTION,this,"itemMenuActionHandler"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(q.EVENTS.CLOSE,this,"prepareToRemove"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(we.EVENTS.UPDATE_CONTROLS,this,"updateViewControls"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(we.EVENTS.REMOVE_LIGHTBOX,this,"prepareToRemove"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(ye.EVENTS.PLAY,this,"slideShowSwitchHandler"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(ye.EVENTS.NEXT_SLIDE,this,"slideshowHandler"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(te.EVENTS.ITEMS_SCROLL_BAR_ITEM_ACTION,this,"scrollBarHandler"),setTimeout((function(){m.enableBodyScrollSlider(),m.moduleSettings(t.appName).appEventManager.dispatchGMEvent(m.GMEvent(e.EVENTS.REMOVE_LIGHTBOX,t))}),300*this.backgroundOpacity)}}},{key:"mouseMoveHandler",value:function(){var t=this;"hide"===this.headerFooterStatus?(clearTimeout(this.mouseMovingTimer),"show"!==this.headerStatus&&(this.header.classList.add("".concat(e.classPref,"show")),this.headerStatus="show",this.slider&&this.slider.showHideNaviButton("show")),this.mouseMovingTimer=setTimeout((function(){t.header.classList.remove("".concat(e.classPref,"show")),t.slider&&t.slider.showHideNaviButton("hide"),t.headerStatus="hide"}),3e3)):(clearTimeout(this.mouseMovingTimer),"show"!==this.headerStatus&&(this.header.classList.add("".concat(e.classPref,"show")),this.headerStatus="show",this.slider&&this.slider.showHideNaviButton("show")))}},{key:"updateViewControls",value:function(t){var i=this;if(t.params.backgroundOpacity&&(this.background.style.opacity=t.params.backgroundOpacity,this.backgroundOpacity=t.params.backgroundOpacity),t.params.draging&&m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(ye.EVENTS.PLAY,this,{action:"stop"})),t.params.zoom&&(m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(ye.EVENTS.PLAY,this,{action:"stop"})),this.itemMenu&&this.itemMenu.zoomButtonStatus(t.params.zoom)),t.params.controls)switch(m.moduleSettings(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(ye.EVENTS.PLAY,this,{action:"stop"})),this.headerFooterStatus=t.params.controls,this.mouseMoveHandler(),t.params.controls){case"show":(m.miniScreen||this.backgroundOpacity<.9)&&this.header.classList.add("".concat(e.classPref,"show")),this.footer.classList.add("".concat(e.classPref,"show"));break;case"hide":(m.miniScreen||this.backgroundOpacity<.9)&&this.header.classList.remove("".concat(e.classPref,"show")),this.footer.classList.remove("".concat(e.classPref,"show"))}if((t.params.itemIndex||0===t.params.itemIndex)&&(this.item_current_info.innerHTML=t.params.itemIndex+1,this.items_amount_info.innerHTML=this.itemsList.length,this.thumbsBar&&this.thumbsBar.selectThumbByIndex(t.params.itemIndex)),t.params.item&&(this.currentItem=t.params.item,this.viewItem=this.currentItem,this.delegate.updateItemLink(t.params.item),this.descriptionWrap&&(this.itemTitle&&(this.itemTitle.innerHTML=t.params.item.title),this.itemDescription&&(this.itemDescription.innerHTML=t.params.item.description)),this.itemMenu&&this.itemMenu.updateForItem(t.params.item)),t.params.status)switch(t.params.status){case"ready":this.autoPlay&&this.config.lb_slideshowAutoPlay&&!this.startItem&&this.autoPlay.start(),this.view.addEventListener("mousemove",(function(e){i.mouseMoveHandler(e)}),!1)}}},{key:"resizeHandler",value:function(){this.view.clientWidth<360?(this.autoPlay&&(this.autoPlay.view.style.display="none"),(this.descriptionWrap||this.thumbsBar)&&(this.counter.style.display="none")):(this.autoPlay&&(this.autoPlay.view.style.display=null),this.counter.style.display=null),this.itemMenu&&this.itemMenu.resizeHandler();var e=Math.min(this.descriptionWrap?400:10,this.footer.clientWidth);if(this.thumbsBar){var t=this.footer.clientWidth;e&&(t-=e),this.thumbsBar.size=m.Size(t,0)}this.descriptionWrap&&(this.descriptionWrap.style.width="".concat(this.footer.clientWidth-this.thumbsBar?this.thumbsBar.view.clientWidth:-50,"px")),this.slider&&this.slider.resizeHandler(m.Size(this.view.clientWidth,this.view.clientHeight))}}]),e}();function Ce(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ke=function(){function e(t,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;if(window.WoowBox&&window.WoowBox.galleries[i]&&(window.WoowBox.galleries[i].remove(),delete window.WoowBox.galleries[i]),m.copyProperties(t,this),this.appName=i,this.appDiv=o,this.audioPlayer=void 0,this.appDivWidth=this.appDiv.clientWidth,this.collection=void 0,m.moduleSettings(this.appName).appName=i,m.moduleSettings(this.appName).cacheItemsList=m.CacheItemsList(),m.moduleSettings(this.appName).appEventManager=m.GMEventsManager(),this.appSet=this.settings,m.moduleSettings(this.appName).appEventManager.addGMEventListener(u.NEED_LIGHTBOX,this,"createLightbox"),m.moduleSettings(this.appName).appEventManager.addGMEventListener(u.FULLSCREEN_SWITCH,this,"fullscreenSwitch"),m.moduleSettings(this.appName).appEventManager.addGMEventListener(u.REMOVE_LIGHTBOX,this,"removeLightbox"),m.moduleSettings(this.appName).appEventManager.addGMEventListener(u.NEED_MODAL,this,"createModal"),this.itemsLoaded(),this.popstateHandler=function(){n.modal&&n.modal.prepareToRemove(),n.lightBox&&n.lightBox.prepareToRemove(),n.collection&&n.itemFromHash&&n.collection.tryOpenLightboxForID(n.itemFromHash)},window.addEventListener("popstate",this.popstateHandler,!1),this.collection&&this.itemFromHash&&!m.moduleSettings(n.appName).collectionThumbSkipLightbox){var s=this.itemFromHash;window.history.replaceState("",document.title,window.location.pathname+window.location.search),this.collection.tryOpenLightboxForID(s)}this.resizeTimeOut=void 0,this.resizeWindow=function(){n.windowResizeHandler()},window.addEventListener("resize",this.resizeWindow)}var t,i,o;return t=e,(i=[{key:"itemsLoaded",value:function(){this.data||this.data.length}},{key:"itemHash",value:function(e){return"#".concat(this.appName,"-").concat(e.ID)}},{key:"createLightbox",value:function(e){if(e.params||e.params.collection){var t=e.params.collection,i=e.params.index,o=t.getItemByIndex(i);this.lightBox&&this.lightBox.prepareToRemove();var n=Se.CONFIG;n.lb_copyR_Alert=m.moduleSettings(this.appName).copyR_Alert,n.lb_backgroundColor=m.moduleSettings(this.appName).sliderBgColor,n.lb_headerFooterColor=m.moduleSettings(this.appName).sliderHeaderFooterBgColor,n.lb_preloaderColor=m.moduleSettings(this.appName).sliderPreloaderColor,n.lb_sliderNavigationColor=m.moduleSettings(this.appName).sliderNavigationColor,n.lb_sliderNavigationIconColor=m.moduleSettings(this.appName).sliderNavigationIconColor,n.lb_sliderNavigationColorOver=m.moduleSettings(this.appName).sliderNavigationColorOver,n.lb_sliderNavigationIconColorOver=m.moduleSettings(this.appName).sliderNavigationIconColorOver,n.lb_itemCounterColor=m.moduleSettings(this.appName).itemCounterColor,n.lb_itemDescriptionShow=m.moduleSettings(this.appName).sliderDescriptionShow,n.lb_itemTitleEnable=m.moduleSettings(this.appName).sliderItemTitleEnable,n.lb_itemTitleFontSize=m.moduleSettings(this.appName).sliderItemTitleFontSize,n.lb_itemTitleTextColor=m.moduleSettings(this.appName).sliderItemTitleTextColor,n.lb_itemDescriptionEnable=m.moduleSettings(this.appName).sliderItemDescriptionEnable,n.lb_itemDescriptionFontSize=m.moduleSettings(this.appName).sliderItemDescriptionFontSize,n.lb_itemDescriptionTextColor=m.moduleSettings(this.appName).sliderItemDescriptionTextColor,n.lb_thumbBarEnable=m.moduleSettings(this.appName).sliderThumbBarEnable,n.lb_thumbBarHoverColor=m.moduleSettings(this.appName).sliderThumbBarHoverColor,n.lb_zoom=m.moduleSettings(this.appName).sliderZoomEnable,n.lb_itemInfoEnable=m.moduleSettings(this.appName).sliderInfoEnable,n.lb_itemShare=m.moduleSettings(this.appName).sliderSocialShareEnabled,n.lb_itemDownload=m.moduleSettings(this.appName).sliderItemDownload,n.lb_discuss=m.moduleSettings(this.appName).sliderItemDiscuss,n.lb_menuBackgroundColor=m.moduleSettings(this.appName).sliderThumbSubMenuBackgroundColor,n.lb_menuBackgroundColorOver=m.moduleSettings(this.appName).sliderThumbSubMenuBackgroundColorOver,n.lb_menuIconColor=m.moduleSettings(this.appName).sliderThumbSubMenuIconColor,n.lb_menuIconColorOver=m.moduleSettings(this.appName).sliderThumbSubMenuIconHoverColor,n.lb_slideshowEneble=m.moduleSettings(this.appName).sliderSlideshow,n.lb_slideshowIndicatorColor=m.moduleSettings(this.appName).slideshowIndicatorColor,n.lb_slideshowIndicatorColorBg=m.moduleSettings(this.appName).slideshowIndicatorColorBg,n.lb_slideshowTimer=m.moduleSettings(this.appName).sliderSlideshowDelay,this.lightBox=new Se(this,n),this.lightBox.initByList(t.filteredCollection,i);var s=this.itemHash(o);window.location.hash!==s&&window.history.pushState(null,null,s)}}},{key:"updateItemLink",value:function(e){window.history.replaceState(null,null,this.itemHash(e))}},{key:"removeLightbox",value:function(e){if(e.target===this.lightBox){var t=this,i=e.target;setTimeout((function(){i.view&&i.view.parentNode&&i.view.parentNode.removeChild(i.view),t.lightBox&&(t.lightBox=void 0)}),100),this.itemFromHash&&window.history.back()}}},{key:"createModal",value:function(e){if(e.params.type&&e.params.item){var t=e.params.item,i=x.CONFIG;i.mwBackgroundColor=m.moduleSettings(this.appName).modaBgColor;var o,n=document.getElementsByTagName("body")[0];if(i.mwParentDiv=this.lightBox?this.lightBox.view:n,i.mwFixedMode=!this.lightBox,!this.modal){this.modal=new x(m.moduleSettings(this.appName),i),m.moduleSettings(this.appName).appEventManager.addGMEventListener(x.EVENTS.REMOVE_MODAL_WINDOW,this,"deleteModal");var s,a=A.PAGE_CONFIG;switch(a.mpPageBgColor=m.moduleSettings(this.appName).modalInfoBoxBgColor,a.mpButtonIconColor=m.moduleSettings(this.appName).modalInfoBoxTitleTextColor,e.params.type){case"share":(s=A.CONFIG).mpModalInfoBoxTitleTextColor=m.moduleSettings(this.appName).modalInfoBoxTitleTextColor,m.copyProperties(a,s),o=new A(m.moduleSettings(this.appName),this.modal,s);break;case"info":(s=P.CONFIG).mpModalInfoBoxTitleTextColor=m.moduleSettings(this.appName).modalInfoBoxTitleTextColor,s.mpModalInfoBoxTextColor=m.moduleSettings(this.appName).modalInfoBoxTextColor,s.mpInfoBarDateInfoEnable=m.moduleSettings(this.appName).infoBarDateInfoEnable,s.mpInfoBarExifEnable=m.moduleSettings(this.appName).infoBarExifEnable,m.copyProperties(a,s),o=new P(m.moduleSettings(this.appName),this.modal,s)}}o.item=t,this.modal.pushPage(o.view)}}},{key:"deleteModal",value:function(){this.modal&&delete this.modal,m.moduleSettings(this.appName).appEventManager.removeGMEventListener(x.EVENTS.REMOVE_MODAL_WINDOW,this,"deleteModal")}},{key:"fullscreenSwitch",value:function(){var e=this.lightBox.view;e&&(m.toggleFullScreen(e),this.windowResizeHandler())}},{key:"windowResizeHandler",value:function(){var e=this;clearTimeout(this.resizeTimeOut),this.resizeTimeOut=setTimeout((function(){e.resizeDelay()}),200)}},{key:"resizeDelay",value:function(){this.collection&&this.collection.resizeHandler(),this.lightBox&&this.lightBox.resizeHandler()}},{key:"remove",value:function(){this.lightBox&&this.lightBox.prepareToRemove(),window.removeEventListener("popstate",this.popstateHandler,!1),window.removeEventListener("resize",this.resizeWindow),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(u.NEED_LIGHTBOX,this,"createLightbox"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(u.FULLSCREEN_SWITCH,this,"fullscreenSwitch"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(u.REMOVE_LIGHTBOX,this,"removeLightbox"),m.moduleSettings(this.appName).appEventManager.removeGMEventListener(u.NEED_MODAL,this,"createModal"),this.collection&&this.collection.remove(),m.moduleSettings(this.appName).cacheItemsList&&m.moduleSettings(this.appName).cacheItemsList.init(),delete m.moduleSettings(this.appName).appEventManager,delete m.moduleSettings(this.appName).cacheItemsList,delete window[this.appName]}},{key:"appSet",set:function(e){}},{key:"itemFromHash",get:function(){var e,t=window.location.hash.indexOf(this.appName);return t+1&&(e=window.location.hash.substr(t).split("-").length>=2?parseInt(window.location.hash.substr(t).split("-")[1]):void 0),e}}])&&Ce(t.prototype,i),o&&Ce(t,o),e}();i(21);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e,t,i){return(Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Pe(e,t,i){return t&&_e(e.prototype,t),i&&_e(e,i),e}window.slidersbox_skin=function(e){console.log("%c WoowBox SlidersBox v.1.1.0","background: #222; color: #bada55");var t=m.moduleSettings,i=(m.trace,"woowbox-slidersbox-"),o='<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M384,265H264v119h-17V265H128v-17h119V128h17v120h120V265z"/></g></svg>',n='<svg enable-background="new 0 0 48 48" height="48px" version="1.1" viewBox="0 0 48 48" width="48px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Expanded"><g><g><path d="M14.101,42.314c-1.87,0-3.628-0.729-4.95-2.051L7.736,38.85c-2.729-2.729-2.729-7.171,0-9.899l9.192-9.192     c1.322-1.322,3.08-2.051,4.95-2.051s3.628,0.729,4.949,2.051l1.414,1.414c0.391,0.391,0.391,1.023,0,1.414s-1.023,0.391-1.414,0     l-1.414-1.414c-0.944-0.944-2.2-1.465-3.535-1.465c-1.336,0-2.592,0.521-3.536,1.465L9.15,30.364     c-1.949,1.949-1.949,5.121,0,7.071l1.414,1.414c0.944,0.944,2.2,1.465,3.536,1.465c1.335,0,2.591-0.521,3.535-1.465L24,32.485     c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6.364,6.364C17.729,41.586,15.971,42.314,14.101,42.314z"/></g><g><path d="M26.121,30.293c-1.869,0-3.628-0.729-4.949-2.051c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0     c0.944,0.944,2.2,1.465,3.535,1.465c1.336,0,2.592-0.521,3.536-1.465l9.192-9.192c1.949-1.949,1.949-5.121,0-7.07L37.436,9.15     c-1.949-1.949-5.122-1.949-7.071,0L24,15.515c-0.391,0.391-1.023,0.391-1.414,0s-0.391-1.023,0-1.414l6.364-6.364     c2.729-2.729,7.17-2.729,9.899,0l1.414,1.415c2.729,2.729,2.729,7.17,0,9.898l-9.192,9.192     C29.75,29.564,27.991,30.293,26.121,30.293z"/></g></g></g></svg>',s=function(){function e(o){Me(this,e),this.appName=o.appName,this.delegate=o,this.bullets=[],this.activIndex=void 0,this.bulColor=t(this.appName).bulletsColor,this.view=document.createElement("div"),this.view.className="".concat(i,"pointers-navi"),this.view.style.backgroundColor=t(this.appName).bulletsBgColor,t(this.appName).appEventManager.addGMEventListener(u.COLLECTIO_SLIDER_UPDATE_CONTROLLS,this,"updateView"),this.updateView()}return Pe(e,[{key:"updateView",value:function(e){if(this.delegate){var t=this,o=this.delegate.pages;if(this.view.style.visibility=o<=1?"hidden":"visible",o){var n,s,a=o-this.bullets.length;if(a<0){var r=this.bullets.splice(o,Math.abs(a));for(n=0;n<r.length;n+=1)s=r[n],this.view.removeChild(s)}else if(a>0)for(n=0;n<o;n+=1)(s=document.createElement("div")).className="".concat(i,"bullet"),s.style.backgroundColor=this.bulColor,s.addEventListener("click",(function(){t.delegate.gotoPageByIndex(parseInt(this.dataset.index))}),!1),m.miniScreen&&s.classList.add("".concat(i,"mini-screen")),s.dataset.index=this.bullets.length,this.bullets.push(s),this.view.appendChild(s);if(!e)return;if(e.params.currentPage||0===e.params.currentPage){if(this.activIndex===this.delegate.currentPageIndex)return;for(n=0;n<this.bullets.length;n+=1)s=this.bullets[n],e.params.currentPage===n?s.style.opacity="1":s.style.opacity="0.5"}}}}}]),e}(),a=function(){function e(t,i){Me(this,e),this.delegate=t,this.appName=i,this.itemsList=[],this.filteredList=[],this.presentedList=[],this.page_Amount=0,this.view=void 0,this.scrollView=void 0,this.scrollViewTranslateXPr=0,this.animaSliderRender=void 0,this.dragging=!1,this.speedX=0,this.scrollWidthPr=0,this.widthPr=0,this.width=0,this.viewCompleted=!1,this.pages=0,this.currentPageIndex=0,this.currentPagePr=0,this.currentPageIndexTMP=0,this.transCompl=!0,this.nextButtonSt=void 0,this.prevButtonSt=void 0,this.slider=void 0,this.nextButton=void 0,this.prevButton=void 0,this.resizeTimeOut=void 0,this.viewWidth=0}return Pe(e,[{key:"itemAction",value:function(e,i){if(!this.dragging){var o=this.filteredCollection[e];switch(i){case"lightBox":t(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(u.NEED_LIGHTBOX,this,{collection:this,index:e}));break;case"share":t(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(u.NEED_MODAL,this,{type:"share",item:o}));break;case"link":o.link&&window.open(o.link,t(this.appName).linkTargetWindow);break;case"coments":window.open("".concat(o.sharelink,"/#comments"),t(this.appName).linkTargetWindow);break;case"like":this.delegate.likeItem=o;break;case"bookmark":this.delegate.bookmarkItem=o}}}},{key:"initByTerm",value:function(e){this.term=e,e.itemsList&&e.itemsList.length>0&&(this.itemsList=e.itemsList,this.viewWidth=this.view.clientWidth,this.updateViewByData())}},{key:"tryOpenLightboxForID",value:function(e){if(e)for(var i=0;i<this.filteredCollection.length;i+=1){e===this.filteredCollection[i].ID&&(t(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(u.NEED_LIGHTBOX,this,{collection:this,index:i})),i=this.filteredCollection.length)}}},{key:"getItemIndexByID",value:function(e){for(var t=0;t<this.filteredCollection.length;t+=1)if(this.filteredCollection[t].ID===e)return t;return 0}},{key:"getItemByIndex",value:function(e){return e?this.filteredCollection[parseInt(e)]:this.filteredCollection[0]}},{key:"refreshDataInItems",value:function(){for(var e=0;e<this.filteredCollection.length;e+=1){this.filteredCollection[e].view.updateSomeData()}}},{key:"activate",value:function(){if(this.filteredCollection&&this.filteredCollection.length>0){this.resize();for(var e=0;e<this.filteredCollection.length;e+=1){var t=this.filteredCollection[e].view;t.index=e,function(e,t){setTimeout((function(){e.visibility="visible",e.opacity="1"}),100*t)}(t,e+1)}}}},{key:"removeItemViewFormStage",value:function(){this.removePresentedItems(),this.presentedList=[]}},{key:"removePresentedItems",value:function(){for(var e=0;e<this.presentedList.length;e+=1)this.presentedList[e].display="none"}},{key:"showPresentedItems",value:function(){for(var e=0;e<this.presentedList.length;e+=1)this.presentedList[e].display="block"}},{key:"createLayout",value:function(){this.page_Amount=Math.min(v.PAGINATION_AMOUNT,this.filteredCollection.length)}},{key:"updateControls",value:function(){if(t(this.appName).nextPprevNavigation){var e=t(this.appName).nextPprevColor,i=t(this.appName).nextPprevBgColor;if(this.pages<=1)return this.nextButton.style.visibility="hidden",void(this.prevButton.style.visibility="hidden");this.nextButton.style.visibility=null,this.prevButton.style.visibility=null,this.nextButtonSt!==this.width-this.scrollWidthPr+1>=this.scrollViewTranslateX&&(this.nextButtonSt=this.width-this.scrollWidthPr+1>=this.scrollViewTranslateX,this.nextButtonSt?(this.nextButton.dataset.status="desable",this.nextButton.style.backgroundColor=i,this.nextButton.style.opacity="0.3",this.nextButton.childNodes[0].style.stroke=e,this.nextButton.style.cursor="default"):(this.nextButton.style.opacity="1",this.nextButton.style.cursor="pointer",this.nextButton.dataset.status="enable")),this.prevButtonSt!==this.scrollViewTranslateX>=0&&(this.prevButtonSt=this.scrollViewTranslateX>=0,this.prevButtonSt?(this.prevButton.dataset.status="desable",this.prevButton.style.backgroundColor=i,this.prevButton.style.opacity="0.3",this.prevButton.childNodes[0].style.stroke=e,this.prevButton.style.cursor="default"):(this.prevButton.style.opacity="1",this.prevButton.style.cursor="pointer",this.prevButton.dataset.status="enable"))}}},{key:"addControls",value:function(){if(t(this.appName).nextPprevNavigation){var e=this,o=t(this.appName).nextPprevColor,n=t(this.appName).nextPprevBgColor;this.nextButton=document.createElement("div"),this.nextButton.className="".concat(i,"navi-button"),this.nextButton.style.backgroundColor=n,this.nextButton.innerHTML='<svg version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polyline fill="none" points="8.5,3 17.5,12 8.5,21 " stroke-miterlimit="10" stroke-width="1"/></svg>',this.nextButton.childNodes[0].style.stroke=o,this.nextButton.dataset.type="next",this.nextButton.addEventListener("mouseenter",s,!1),this.nextButton.addEventListener("mouseleave",s,!1),this.nextButton.addEventListener("click",(function(){e.gotoNext()}),!1),this.view.appendChild(this.nextButton),this.prevButton=document.createElement("div"),this.prevButton.className="".concat(i,"navi-button"),this.prevButton.style.backgroundColor=n,this.prevButton.innerHTML='<svg id="Layer_1" version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polyline fill="none" points="15.5,21 6.5,12 15.5,3 " stroke-miterlimit="10" stroke-width="1"/></svg>',this.prevButton.childNodes[0].style.stroke=o,this.prevButton.addEventListener("mouseenter",s,!1),this.prevButton.addEventListener("mouseleave",s,!1),this.prevButton.type="prev",this.prevButton.addEventListener("click",(function(){e.gotoPrev()}),!1),this.view.appendChild(this.prevButton)}function s(e){var t=this.childNodes[0];if("desable"!==this.dataset.status)switch(e.type){case"mouseenter":this.style.backgroundColor=o,t.style.stroke=n;break;case"mouseleave":this.style.backgroundColor=n,t.style.stroke=o}}}},{key:"paginationUpdate",value:function(){this.pages=Math.ceil(this.scrollWidthPr/this.widthPr-.1),this.width-this.scrollWidthPr>this.scrollViewTranslateX&&(this.scrollViewTranslateX=this.width-this.scrollWidthPr),t(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(u.COLLECTIO_SLIDER_UPDATE_CONTROLLS,this,{pages:this.pages,currentPage:this.currentPagePr}))}},{key:"calculateScroll",value:function(){if(this.width/this.scrollWidthPr<1){if(this.viewCompleted)return;this.gotoPageByIndex(this.currentPage),this.startDragHandler=this.startDrag(),m.isTouchDevice&&(this.scrollView.addEventListener("touchstart",this.startDragHandler,m.passiveListener),window.addEventListener("touchmove",(function(){}),m.passiveListener)),this.scrollView.addEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!0}else{var e=(this.width-this.scrollWidthPr)/2;if(this.scrollViewTranslateX=e,!this.viewCompleted)return;m.isTouchDevice&&(this.scrollView.removeEventListener("touchstart",this.startDragHandler,m.passiveListener),window.addEventListener("touchmove",(function(){}),m.passiveListener)),this.scrollView.removeEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!1}}},{key:"sliderTransitionComplete",value:function(e){e.target===this.slider&&(this.transCompl=!0)}},{key:"gotoNext",value:function(){var e=(this.transCompl?this.currentPageIndexTMP:this.currentPageIndex)+1;this.gotoPageByIndex(e),this.transCompl=!1}},{key:"gotoPrev",value:function(){var e=(this.transCompl?this.currentPageIndexTMP:this.currentPageIndex)-1;this.gotoPageByIndex(e),this.transCompl=!1}},{key:"gotoPageByIndex",value:function(e,t){e=Math.min(e,this.pages-1),e=Math.max(e,0);var i=Math.max(-e*this.widthPr,-(this.scrollWidthPr-this.width));t?(this.scrollViewTranslateX=i,this.sliderTransitionComplete({target:this.slider})):this.renderTransformTo(m.Point(i,0)),this.currentPageIndex=e}},{key:"renderTransformTo",value:function(e){var t=this;m.cancelAnimationFrame(t.animaSliderRender);var i=5*t.speedX,o=.2,n=.15;t.animaSliderRender=m.requestAnimationFrame((function s(){i=i*o+(e.x-t.scrollViewTranslateX)*n,t.scrollViewTranslateX+=i,Math.abs(i)<1&&(t.dragging=!1),Math.abs(i)<.1?(m.cancelAnimationFrame(t.animaSliderRender),t.scrollViewTranslateX=e.x,t.sliderTransitionComplete({target:t.slider})):t.animaSliderRender=m.requestAnimationFrame(s)}))}},{key:"startDrag",value:function(){var e,t,i,o,n=this,s=!0,a=45,r=n.speedX,l=0,c=0,h=.95,d=1;function p(){return-(n.scrollWidthPr-n.width)}function u(){Math.abs(r)<.04?cancelAnimationFrame(n.animaSliderRender):n.animaSliderRender=m.requestAnimationFrame(u),n.scrollViewTranslateX>0?r=.2*r+.1*(0-n.scrollViewTranslateX):n.scrollViewTranslateX<p()?r=.2*r+.1*(p()-n.scrollViewTranslateX):r*=h,n.scrollViewTranslateX+=r}function v(h){var p,m,u;(h.touches&&h.touches[0]?(p=h.touches[0].pageX,m=h.touches[0].pageY):(p=h.pageX,m=h.pageY),void 0===o)&&(s&&m===t||!s&&p===e?o=!1:(u=180*Math.atan2(Math.abs(m-t),Math.abs(p-e))/Math.PI,o=s?u>45:90-u>a));if(o)n.dragging=!0;else{h.preventDefault();var v=e-p;v&&(n.dragging=!0),n.scrollViewTranslateX=i-v,l=c,c=n.scrollViewTranslateX,r=(c-l)*d}}function g(){m.isTouchDevice&&(document.removeEventListener("touchmove",v,m.passiveListener),document.removeEventListener("touchend",g,m.passiveListener),document.removeEventListener("touchcancel",g,!1)),document.removeEventListener("mousemove",v,!1),document.removeEventListener("mouseup",g,!1),document.removeEventListener("oncontextmenu",g,!1),(0!==r||n.scrollViewTranslateX>0||n.scrollViewTranslateX<p())&&(n.animaSliderRender=m.requestAnimationFrame(u)),n.dragging=!1}return function(s){if(!s)return r=0,i=n.scrollViewTranslateX,void m.cancelAnimationFrame(n.animaSliderRender);var a,l;(m.isTouchDevice||s.preventDefault(),s.button&&0!==s.button)||(r=0,c=n.scrollViewTranslateX,o=void 0,s.touches&&s.touches[0]?(a=s.touches[0].pageX,l=s.touches[0].pageY):(a=s.pageX,l=s.pageY),e=a,t=l,i=n.scrollViewTranslateX,m.cancelAnimationFrame(n.animaSliderRender),m.isTouchDevice&&(document.addEventListener("touchmove",v,m.passiveListener),document.addEventListener("touchend",g,m.passiveListener),document.addEventListener("touchcancel",g,!1)),document.addEventListener("mousemove",v,!1),document.addEventListener("mouseup",g,!1),document.addEventListener("oncontextmenu",g,!1))}}},{key:"resizeHandler",value:function(){this.viewWidth!==this.view.clientWidth&&(this.resize(),this.viewWidth=this.view.clientWidth)}},{key:"remove",value:function(){}},{key:"currentPage",get:function(){var e=this.width-this.scrollWidthPr+1>=this.scrollViewTranslateX?this.pages-1:Math.round(-this.scrollViewTranslateX/this.widthPr);return this.currentPagePr!==e&&(this.currentPagePr=e,t(this.appName).appEventManager.dispatchGMEvent(m.GMEvent(u.COLLECTIO_SLIDER_UPDATE_CONTROLLS,this,{pages:this.pages,currentPage:this.currentPagePr}))),e}},{key:"scrollViewTranslateX",set:function(e){var t=(this.scrollViewTranslateXPr-e)/Math.abs(this.scrollViewTranslateXPr-e);this.scrollViewTranslateXPr=e,this.scrollView.style.transform="translateX(".concat(e,"px)");var i=Math.ceil(-e/this.widthPr);t&&(this.currentPageIndexTMP=t>0?i:-Math.floor(e/this.widthPr)),this.currentPageIndexTMP=Math.max(0,this.currentPageIndexTMP),this.currentPageIndexTMP=Math.min(this.pages-1,this.currentPageIndexTMP),this.tmp=this.currentPage,this.updateControls()},get:function(){return this.scrollViewTranslateXPr}},{key:"filteredCollection",get:function(){return this.filteredList.length>0?this.filteredList:this.itemsList}}]),e}(),r=function(){function e(o,n){Me(this,e);var s=this;this.delegate=o,this.appName=o.appName,this.index=n,this.view=document.createElement("div"),this.view.className="".concat(i,"thumb-onerow"),this.view.style.padding="0 ".concat(t(this.appName).thumbSpacing/2,"px"),this.view.style.fontSize="".concat(t(this.appName).collectionThumbFontSize,"px"),this.imageHolder=document.createElement("div"),this.imageHolder.className="".concat(i,"image-holder"),this.view.appendChild(this.imageHolder),this.itemViewSrc=!1,this.img=new Image,this.img.onload=function(){s.imageOnLoad()},this.imageHolder.appendChild(this.img),this.item=this.delegate.itemsList[this.index],this.imageRetio=this.item.itemViewSize.width/this.item.itemViewSize.height,this.width=0,this.height=0,this.x=0,this.y=0,this.menuButtonAction=void 0;var a=document.createElement("div");if(t(this.appName).lightBoxEnable&&m.Device.desktop){a.className="".concat(i,"image-over"),a.style.backgroundColor=t(this.appName).collectionThumbHoverColor,this.imageHolder.appendChild(a);var r=document.createElement("div");switch(r.className="".concat(i,"zoom"),this.item.type){case"video":"vimeo"===this.item.mime_type.split("/")[1]?(r.innerHTML=m.ICONS.VIMEO_SVG,r.firstChild.style.fill="#00adef"):(r.innerHTML=m.ICONS.YOU_TUBE_SVG,r.firstChild.style.fill="#e02f2f",r.style.padding="0");break;case"audio":r.innerHTML=m.ICONS.NOTE_SVG,r.firstChild.style.fill=t(this.appName).collectionThumbHoverColorButtonIcon,r.style.backgroundColor=t(this.appName).collectionThumbHoverColorButtonBg;break;default:r=void 0}r&&this.imageHolder.appendChild(r)}function l(e){switch(e.type){case"mouseenter":t(s.appName).lightBoxEnable&&this.classList.add("".concat(i,"hover"));break;case"mouseleave":t(s.appName).lightBoxEnable&&this.classList.remove("".concat(i,"hover"));break;case"mouseup":s.menuButtonAction?(s.delegate.itemAction(s.index,s.menuButtonAction),s.menuButtonAction=void 0):s.delegate.itemAction(s.index,"lightBox")}}m.Device.desktop&&(this.view.addEventListener("mouseenter",l,!1),this.view.addEventListener("mouseleave",l,!1)),this.view.addEventListener("mouseup",l,!1);var c=document.createElement("div");if(c.className="".concat(i,"item-content"),this.view.appendChild(c),t(this.appName).collectionThumbDateShow&&this.item.date){var h=document.createElement("div");h.className="".concat(i,"item-date"),h.innerHTML=m.timeConverter(this.item.date),h.style.fontSize="".concat(t(this.appName).collectionThumbDateFontSize,"px"),h.style.color=t(this.appName).collectionThumbDateColor,c.appendChild(h)}if(t(this.appName).collectionThumbTitleShow&&this.item.title&&""!==this.item.title){var d=document.createElement("div");d.className="".concat(i,"item-title"),d.innerHTML=this.item.title,d.style.fontSize="".concat(t(this.appName).collectionThumbFontSize,"px"),d.style.color=t(this.appName).collectionThumbTitleColor,c.appendChild(d)}if(this.item.link){var p=document.createElement("div");p.className="".concat(i,"item-read-more"),p.innerHTML=t(this.appName).collectionReadMoreButtonLabel,p.style.backgroundColor=t(this.appName).collectionReadMoreButtonBGColor,p.style.color=t(this.appName).collectionReadMoreButtonLabelColor,p.dataset.type="link",p.addEventListener("mouseenter",(function(){this.style.backgroundColor=t(s.appName).collectionReadMoreButtonBGColorHover,this.style.color=t(s.appName).collectionReadMoreButtonLabelColorHover}),!1),p.addEventListener("mouseleave",(function(){s.menuButtonAction=void 0,this.style.backgroundColor=t(s.appName).collectionReadMoreButtonBGColor,this.style.color=t(s.appName).collectionReadMoreButtonLabelColor}),!1),p.addEventListener("mouseup",(function(){s.menuButtonAction="link",this.style.backgroundColor=t(s.appName).collectionReadMoreButtonBGColor,this.style.color=t(s.appName).collectionReadMoreButtonLabelColor}),!1),c.appendChild(p)}}return Pe(e,[{key:"initImage",value:function(){this.width/this.item.itemViewThumbSize.width>1.1?this.itemViewSrc=this.item.itemViewSrc:this.itemViewSrc=this.item.itemViewThumbSrc,this.img.src=this.itemViewSrc}},{key:"imageOnLoad",value:function(){this.imgSize=m.Size(this.img.naturalWidth,this.img.naturalHeight),this.resizeImg(),this.img.style.opacity="1"}},{key:"resizeImg",value:function(){if(this.imgSize){var e=m.getFrameForBoxWithMode(this.imgSize,m.Size(this.width,this.height),!0,!1);this.img.style.left="".concat(e.x,"px"),this.img.style.top="".concat(e.y,"px"),this.img.style.width="".concat(e.width,"px"),this.img.style.height="".concat(e.height,"px")}}},{key:"size",set:function(e){this.width=e.width,this.height=e.height,this.view.style.width="".concat(this.width,"px"),this.view.style.height="".concat(this.height,"px"),this.resizeImg(),this.itemViewSrc||this.initImage()}},{key:"position",set:function(e){this.x=e.x,this.y=e.y,this.view.style.left="".concat(this.x,"px"),this.view.style.top="".concat(this.y,"px")}},{key:"display",set:function(e){this.view.style.display=e}},{key:"visibility",set:function(e){this.view.style.visibility=e}},{key:"opacity",set:function(e){var t=this;setTimeout((function(){t.view.style.opacity=e}),40)}}]),e}(),l=function(e){function o(e,n){var s;return Me(this,o),(s=Te(this,Le(o).call(this,e,n))).controllsButtonHeight=0,s.rows=1,s.columns=0,s.view=document.createElement("div"),s.view.className="".concat(i,"slider-onerow"),s.view.style.backgroundColor=t(n).collectionSliderBgColor,s.scrollView=document.createElement("div"),s.scrollView.className="".concat(i,"content"),s.scrollView.style.top="".concat(s.controllsButtonHeight,"px"),s.scrollView.style.transform="translateX(0px)",s.view.appendChild(s.scrollView),s}return Ie(o,e),Pe(o,[{key:"updateViewByData",value:function(){var e=this;if(this.width=this.view.clientWidth,this.itemsList&&this.itemsList.length>0)for(var t=0;t<this.itemsList.length;t+=1){var i=new r(this,t);i.visibility="hidden",this.itemsList[t].view=i,this.scrollView.appendChild(i.view)}setTimeout((function(){e.addControls(),e.activate()}),1e3)}},{key:"resize",value:function(){var e=t(this.appName).thumbHieghtRatio;if(this.width=this.view.clientWidth,this.filteredCollection&&this.filteredCollection.length>0){var i=this.itemWidth/e*this.rows+this.controllsButtonHeight;this.view.style.height="".concat(i,"px"),this.scrollView.style.height="".concat(i,"px"),this.scrollWidthPr=0;for(var o=0;o<this.filteredCollection.length;o+=1)if(this.filteredCollection[o]){var n=this.filteredCollection[o].view;n.size=m.Size(this.itemWidth,this.itemWidth/e);var s=Math.floor(o/this.rows)*this.itemWidth,a=o%this.rows*(this.itemWidth/e);n.position=m.Point(s,a),this.scrollWidthPr=Math.max(this.scrollWidthPr,n.x+n.width)}this.scrollView.style.width="".concat(this.scrollWidthPr,"px"),this.widthPr=this.width,this.paginationUpdate(),this.updateControls(),this.calculateScroll()}}},{key:"addControls",value:function(){Ne(Le(o.prototype),"addControls",this).apply(this),t(this.appName).nextPprevNavigation&&(this.prevButton.style.left="10px",this.nextButton.style.right="10px")}},{key:"itemWidth",get:function(){return this.columns=Math.floor(this.width/Math.min(t(this.appName).thumbMinWidth,this.width)),this.width/this.columns}}]),o}(a),c=function(){function e(s,a){Me(this,e);var r=this;this.delegate=s,this.appName=s.appName,this.index=a,this.view=document.createElement("div"),this.view.className="".concat(i,"thumb-cell"),this.view.style.padding="".concat(t(this.appName).thumbSpacing/2,"px"),this.view.style.fontSize="".concat(t(this.appName).collectionThumbFontSize,"px"),this.imageHolder=document.createElement("div"),this.imageHolder.className="".concat(i,"image-holder"),this.view.appendChild(this.imageHolder),this.itemViewSrc=!1,this.img=new Image,this.img.onload=function(){r.imageOnLoad()},this.imageHolder.appendChild(this.img);var l=document.createElement("div");if(t(this.appName).lightBoxEnable&&m.Device.desktop&&(l.className="".concat(i,"image-over"),l.style.backgroundColor=t(this.appName).collectionThumbHoverColor,this.imageHolder.appendChild(l)),this.item=this.delegate.itemsList[this.index],this.imageRetio=this.item.itemViewSize.width/this.item.itemViewSize.height,this.wSize=Math.round(this.imageRetio>=1?this.imageRetio/t(this.appName).thumbHieghtRatio:1),this.hSize=Math.round(this.imageRetio>=1?1:1/(this.imageRetio-.05)),this.width=0,this.height=0,this.x=0,this.y=0,this.menuHolder=document.createElement("div"),this.menuHolder.className="".concat(i,"menu-holder"),this.imageHolder.appendChild(this.menuHolder),this.menuButtonAction=void 0,!m.miniScreen&&t(this.appName).lightBoxEnable){var c=document.createElement("div");switch(c.className="".concat(i,"zoom"),this.item.type){case"video":"vimeo"===this.item.mime_type.split("/")[1]?(c.classList.add("".concat(i,"media")),c.innerHTML=m.ICONS.VIMEO_SVG,c.firstChild.style.fill="#00adef"):(c.classList.add("".concat(i,"media")),c.innerHTML=m.ICONS.YOU_TUBE_SVG,c.firstChild.style.fill="#e02f2f",c.style.padding="5px");break;case"audio":c.classList.add("".concat(i,"media")),c.innerHTML=m.ICONS.NOTE_SVG,c.firstChild.style.fill=t(this.appName).collectionThumbHoverColorButtonIcon,c.style.backgroundColor=t(this.appName).collectionThumbHoverColorButtonBg;break;default:c.innerHTML=o,c.firstChild.style.fill=t(this.appName).collectionThumbHoverColorButtonIcon,c.style.backgroundColor=t(this.appName).collectionThumbHoverColorButtonBg,c.style.opacity="0.8",c.addEventListener("mouseleave",(function(){this.style.opacity="0.8"}),!1),c.addEventListener("mouseenter",(function(){this.style.opacity="1"}),!1)}this.menuHolder.appendChild(c)}if(this.item.link){var h=document.createElement("div");h.className="".concat(i,"link"),h.innerHTML=n,h.style.backgroundColor=t(this.appName).collectionThumbHoverColorButtonBg,h.firstChild.style.fill=t(this.appName).collectionThumbHoverColorButtonIcon,this.menuHolder.appendChild(h),h.addEventListener("mouseup",(function(){r.menuButtonAction="link"}),!1),h.addEventListener("mouseleave",(function(){r.menuButtonAction=void 0,this.style.opacity="0.8"}),!1),h.addEventListener("mouseenter",(function(){this.style.opacity="1"}),!1)}function d(e){switch(e.type){case"mouseenter":t(r.appName).lightBoxEnable&&this.classList.add("".concat(i,"hover"));break;case"mouseleave":t(r.appName).lightBoxEnable&&this.classList.remove("".concat(i,"hover"));break;case"mouseup":r.menuButtonAction?(r.delegate.itemAction(r.index,r.menuButtonAction),r.menuButtonAction=void 0):r.delegate.itemAction(r.index,"lightBox")}}t(this.appName).lightBoxEnable&&m.Device.desktop||r.menuHolder.classList.add("".concat(i,"hover")),m.Device.desktop&&(this.view.addEventListener("mouseenter",d,!1),this.view.addEventListener("mouseleave",d,!1)),this.view.addEventListener("mouseup",d,!1);var p=document.createElement("div");if(p.className="".concat(i,"item-content"),this.view.appendChild(p),t(this.appName).collectionThumbTitleShow&&this.item.title&&""!==this.item.title){var u=document.createElement("div");u.className="".concat(i,"item+title"),u.style.fontSize="".concat(t(this.appName).collectionThumbFontSize,"px"),u.style.color=t(this.appName).collectionThumbTitleColor,u.innerHTML=this.item.title,p.appendChild(u)}if(t(this.appName).collectionThumbDateShow&&this.item.date){var v=document.createElement("div");v.className="".concat(i,"item-date"),v.style.fontSize="".concat(t(this.appName).collectionThumbDateFontSize,"px"),v.style.color=t(this.appName).collectionThumbDateColor,v.innerHTML=m.timeConverter(this.item.date),p.appendChild(v)}}return Pe(e,[{key:"initImage",value:function(){this.width/this.item.itemViewThumbSize.width>1.1?this.itemViewSrc=this.item.itemViewSrc:this.itemViewSrc=this.item.itemViewThumbSrc,this.img.src=this.itemViewSrc}},{key:"imageOnLoad",value:function(){this.imgSize=m.Size(this.img.naturalWidth,this.img.naturalHeight),this.resizeImg(),this.img.style.opacity="1"}},{key:"resizeImg",value:function(){if(this.imgSize){var e=m.getFrameForBoxWithMode(this.imgSize,m.Size(this.width,this.height),!0,!1);this.img.style.left="".concat(e.x,"px"),this.img.style.top="".concat(e.y,"px"),this.img.style.width="".concat(e.width,"px"),this.img.style.height="".concat(e.height,"px")}}},{key:"size",set:function(e){this.width=e.width*this.wSize,this.height=e.height*this.hSize,this.view.style.width="".concat(this.width,"px"),this.view.style.height="".concat(this.height,"px"),this.resizeImg(),this.itemViewSrc||this.initImage()}},{key:"position",set:function(e){this.x=e.x,this.y=e.y,this.view.style.left="".concat(this.x,"px"),this.view.style.top="".concat(this.y,"px")}},{key:"display",set:function(e){this.view.style.display=e}},{key:"visibility",set:function(e){this.view.style.visibility=e}},{key:"opacity",set:function(e){var t=this;setTimeout((function(){t.view.style.opacity=e}),40)}}]),e}(),h=function(e){function o(e,n){var s;return Me(this,o),(s=Te(this,Le(o).call(this,e,n))).controllsButtonHeight=t(s.appName).nextPprevNavigation?52:0,s.rows=0,s.columns=0,s.view=document.createElement("div"),s.view.className="".concat(i,"slider-cells"),s.view.style.backgroundColor=t(n).collectionSliderBgColor,s.scrollView=document.createElement("div"),s.scrollView.className="".concat(i,"content"),s.scrollView.style.top="".concat(s.controllsButtonHeight,"px"),s.scrollView.style.transform="translateX(0px)",s.view.appendChild(s.scrollView),s}return Ie(o,e),Pe(o,[{key:"updateViewByData",value:function(){var e=this;if(this.width=this.view.clientWidth,this.itemsList&&this.itemsList.length>0)for(var t,i=0;i<this.itemsList.length;i+=1)t=new c(this,i),this.rows=Math.max(this.rows,t.hSize),t.visibility="hidden",this.itemsList[i].view=t,this.scrollView.appendChild(t.view);setTimeout((function(){e.addControls(),e.activate()}),1e3)}},{key:"resize",value:function(){var e=this;this.width=this.view.clientWidth;var i=t(this.appName).thumbHieghtRatio;this.rows=Math.max(this.rows,t(this.appName).sliderRows);var o=this.itemsList.slice(),n=[],s=0;function a(e){for(var t=0;t<o.length;t++){var i=o[t].view;if(1===i.wSize&&1===i.hSize)return n[e]="index_".concat(i.index),void o.splice(t,1)}n[e]="empty"}if(this.filteredCollection&&this.filteredCollection.length>0){var r=this.itemWidth/i*this.rows+this.controllsButtonHeight;this.view.style.height="".concat(r,"px"),this.scrollView.style.height="".concat(r,"px"),function t(){if(0!==o.length&&s!==5*e.itemsList.length&&o[0]){var i=o[0].view,r=function(){for(var e=0;e<n.length;e+=1)if(void 0===n[e]||0===n[e])return e;return n[n.length]=0,n.length-1}(),l=[];if(i.wSize===i.hSize)n[r]="index_".concat(i.index),o.splice(0,1);else if(i.wSize>i.hSize){l=[];for(var c=e.rows;c<i.wSize*e.rows;c+=e.rows)void 0!==n[r+c]&&0!==n[r+c]||l.push(r+c);if(l.length===i.wSize-1){n[r]="index_".concat(i.index);for(var h=0;h<l.length;h+=1)n[l[h]]="half_".concat(i.index);o.splice(0,1)}else a(r)}else if(i.wSize<i.hSize){l=[];for(var d=Math.floor(r/e.rows),p=r+1;p<r+i.hSize;p+=1)Math.floor(p/e.rows)!==d||void 0!==n[p]&&0!==n[p]||l.push(p);if(l.length===i.hSize-1){n[r]="index_".concat(i.index);for(var m=0;m<l.length;m+=1)n[l[m]]="half_".concat(i.index);o.splice(0,1)}else a(r)}else a(r);s+=1,t()}}(),this.scrollWidthPr=0;for(var l=0;l<n.length;l+=1)if(n[l]){var c=n[l].split("_");if("index"===c[0]&&this.filteredCollection[c[1]]){var h=this.filteredCollection[c[1]].view;h.size=m.Size(this.itemWidth,this.itemWidth/i);var d=Math.floor(l/this.rows)*this.itemWidth,p=l%this.rows*(this.itemWidth/i);h.position=m.Point(d,p),this.scrollWidthPr=Math.max(this.scrollWidthPr,h.x+h.width)}}this.scrollView.style.width="".concat(this.scrollWidthPr,"px"),this.widthPr=this.width,this.paginationUpdate(),this.updateControls(),this.calculateScroll()}}},{key:"itemWidth",get:function(){return this.columns=Math.floor(this.width/Math.min(t(this.appName).thumbMinWidth,this.width)),this.width/this.columns}}]),o}(a),d=function(){function e(o,n){Me(this,e),this.delegate=o,this.appName=o.appName,this.index=n,this.view=document.createElement("div"),this.view.className="".concat(i,"thumb-pint"),this.view.style.padding="0 ".concat(t(this.appName).thumbSpacing/2,"px"),this.view.style.fontSize="".concat(t(this.appName).collectionThumbFontSize,"px"),this.imageHolder=document.createElement("div"),this.imageHolder.className="".concat(i,"image-holder"),this.view.appendChild(this.imageHolder),this.sizePr=m.Size(1,1),this.item=void 0,this.imageRetio=1}return Pe(e,[{key:"init",value:function(){var e=this,n=this.delegate.itemsList[this.index];this.item=n;var s,a=this.delegate.itemWidth-t(this.appName).thumbSpacing;if(this.view.style.width="".concat(a,"px"),this.type=n.type,this.itemViewSrc=!1,this.img=new Image,this.img.onload=function(){n.title&&this.setAttribute("alt",n.title),e.view.clientWidth/this.naturalWidth>1.1&&n.itemViewSrc&&!e.itemViewSrc&&(this.src=n.itemViewSrc,e.itemViewSrc=!0),this.style.opacity="1"},this.imageHolder.appendChild(this.img),t(this.appName).lightBoxEnable){(s=document.createElement("div")).className="".concat(i,"image-over"),s.style.backgroundColor=t(this.appName).collectionThumbHoverColor,this.imageHolder.appendChild(s);var r=document.createElement("div");switch(r.className="".concat(i,"zoom"),this.item.type){case"video":"vimeo"===this.item.mime_type.split("/")[1]?(r.classList.add("".concat(i,"media")),r.innerHTML=m.ICONS.VIMEO_SVG,r.firstChild.style.fill="#00adef"):(r.classList.add("".concat(i,"media")),r.innerHTML=m.ICONS.YOU_TUBE_SVG,r.firstChild.style.fill="#e02f2f",r.style.padding="5px");break;case"audio":r.classList.add("".concat(i,"media")),r.innerHTML=m.ICONS.NOTE_SVG,r.firstChild.style.fill=t(this.appName).collectionThumbHoverColorButtonIcon,r.style.backgroundColor=t(this.appName).collectionThumbHoverColorButtonBg;break;default:r.innerHTML=o,r.firstChild.style.fill=t(this.appName).collectionThumbHoverColorButtonIcon,r.style.backgroundColor=t(this.appName).collectionThumbHoverColorButtonBg}this.imageHolder.appendChild(r)}function l(t){switch(t.type){case"mouseenter":this.classList.add("".concat(i,"hover"));break;case"mouseleave":this.classList.remove("".concat(i,"hover"));break;case"mouseup":this.classList.remove("".concat(i,"hover")),e.delegate.itemAction(e.index,"lightBox")}}this.imageHolder.addEventListener("mouseenter",l,!1),this.imageHolder.addEventListener("mouseleave",l,!1),this.imageHolder.addEventListener("mouseup",l,!1),a/n.itemViewThumbSize.width>1.1?this.img.src=n.itemViewSrc:this.img.src=n.itemViewThumbSrc,this.imageRetio=n.itemViewSize.height/n.itemViewSize.width,this.view.style.minHeight="".concat(this.imageRetio*a,"px");var c=document.createElement("div");if(c.className="".concat(i,"item-content"),c.style.backgroundColor=t(this.appName).collectionThumbContentBGColor,this.view.appendChild(c),t(this.appName).collectionThumbTitleShow&&n.title&&""!==n.title){var h=document.createElement("div");h.className="".concat(i,"item-title"),h.style.fontSize="".concat(t(this.appName).collectionThumbFontSize,"px"),h.style.color=t(this.appName).collectionThumbTitleColor,h.innerHTML=n.title,c.appendChild(h)}if(t(this.appName).collectionThumbDateShow&&n.date){var d=document.createElement("div");d.className="".concat(i,"item-date"),d.style.fontSize="".concat(t(this.appName).collectionThumbDateFontSize,"px"),d.style.color=t(this.appName).collectionThumbDateColor,d.innerHTML=m.timeConverter(n.date),c.appendChild(d)}if(t(this.appName).collectionThumbDescriptionShow&&n.description&&""!==n.description){var p=document.createElement("div");p.className="".concat(i,"item-description"),p.style.fontSize="".concat(t(this.appName).collectionThumbDescriptionFontSize,"px"),p.style.color=t(this.appName).collectionThumbDescriptionColor,p.innerHTML=n.description,c.appendChild(p)}var u=document.createElement("div");u.className="".concat(i,"item-menu-holder");var v,g=t(this.appName).collectionThumbSubMenuIconColor,w=t(this.appName).collectionThumbSubMenuBackgroundColor,f=t(this.appName).collectionThumbSubMenuBackgroundColorOver,b=t(this.appName).collectionThumbSubMenuIconHoverColor;function x(t){if("click"===t.type){if(!n)return;e.delegate.itemAction(e.index,this.dataset.type)}else"mouseenter"===t.type?function(e){e.classList.add("".concat(i,"woowbox-hover")),e.style.backgroundColor=f,e.childNodes[0].style.fill=b}(this):"mouseleave"===t.type&&function(e){e.classList.remove("".concat(i,"woowbox-hover")),"like"===e.dataset.type&&e.dataset.like?e.style.backgroundColor=w:(e.style.backgroundColor=w,e.childNodes[0].style.fill=g)}(this)}if(n.link){var y=document.createElement("div");y.className="".concat(i,"item-read-more"),y.innerHTML=m.PR?t(this.appName).collectionReadMoreButtonLabel:"Read More",y.style.backgroundColor=t(this.appName).collectionReadMoreButtonBGColor,y.style.color=t(this.appName).collectionReadMoreButtonLabelColor,y.dataset.type="link",y.onmouseenter=function(){this.style.backgroundColor=t(e.appName).collectionReadMoreButtonBGColorHover,this.style.color=t(e.appName).collectionReadMoreButtonLabelColorHover},y.onmouseleave=function(){this.style.backgroundColor=t(e.appName).collectionReadMoreButtonBGColor,this.style.color=t(e.appName).collectionReadMoreButtonLabelColor},y.addEventListener("click",x,!1),u.appendChild(y)}t(this.appName).collectionLikesEnabled&&((v=document.createElement("div")).className="".concat(i,"items-buttons"),v.datraset.type="like",v.innerHTML=m.ICONS.HEART_SVG,v.style.backgroundColor=w,v.childNodes[0].style.fill=g,this.likeButton=v,v.addEventListener("click",x,!1),v.addEventListener("mouseenter",x,!1),v.addEventListener("mouseleave",x,!1),u.appendChild(v)),t(this.appName).collectionSocialShareEnabled&&m.PR&&((v=document.createElement("div")).className="".concat(i,"items-buttons"),v.dataset.type="share",v.innerHTML=m.ICONS.SHARE_SVG,v.style.backgroundColor=w,v.childNodes[0].style.fill=g,v.addEventListener("click",x,!1),v.addEventListener("mouseenter",x,!1),v.addEventListener("mouseleave",x,!1),u.appendChild(v)),t(this.appName).collectionItemDiscuss&&m.PR&&"open"===n.comment_status&&((v=document.createElement("div")).className="".concat(i,"items-buttons"),v.dataset.type="coments",v.innerHTML=m.ICONS.COMENTS_SVG,v.style.backgroundColor=w,v.childNodes[0].style.fill=g,v.addEventListener("click",x,!1),v.addEventListener("mouseenter",x,!1),v.addEventListener("mouseleave",x,!1),u.appendChild(v)),u.childNodes.length>0&&c.appendChild(u)}},{key:"resize",value:function(e){return this.view.style.width="".concat(e.width,"px"),this.view.style.minHeight="".concat(this.imageRetio*(e.width-t(this.appName).thumbSpacing),"px"),this.view.clientHeight}},{key:"display",set:function(e){this.view.style.display=e}},{key:"visibility",set:function(e){this.view.style.visibility=e}},{key:"opacity",set:function(e){var t=this;setTimeout((function(){t.view.style.opacity=e}),40)}},{key:"like",set:function(e){this.likeButton&&(e?(this.likeButton.getElementsByTagName("svg")[0].style.fill="red",this.likeButton.style.cursor="default",this.likeButton.style.pointerEvents="none",this.likeButton.dataset.like="true"):(this.likeButton.childNodes[0].style.fill=this.iconColor,this.likeButton.style.cursor="pointer",this.likeButton.style.pointerEvents="all",this.likeButton.dataset.like=null))},get:function(){return!!this.likeButton}}]),e}(),p=function(e){function o(e,n){var s;return Me(this,o),(s=Te(this,Le(o).call(this,e,n))).view=document.createElement("div"),s.view.className="".concat(i,"collection-slider"),s.view.style.backgroundColor=t(s.appName).collectionSliderBgColor,s.view.style.paddingTop="".concat(t(s.appName).thumbSpacing,"px"),s.view.style.paddingBottom="".concat(t(s.appName).thumbSpacing,"px"),s.scrollView=document.createElement("div"),s.scrollView.className="".concat(i,"content"),s.scrollView.style.marginLeft="".concat(t(s.appName).thumbSpacing,"px"),s.scrollView.style.transform="translateX(0px)",s.view.appendChild(s.scrollView),s}return Ie(o,e),Pe(o,[{key:"updateViewByData",value:function(){var e=this;if(this.width=this.view.clientWidth,this.itemsList&&this.itemsList.length>0)for(var t=0;t<this.itemsList.length;t+=1){var i=new d(this,t);i.visibility="hidden",this.itemsList[t].view=i,this.scrollView.appendChild(i.view),i.init()}setTimeout((function(){e.addControls(),e.activate()}),1e3)}},{key:"resize",value:function(){if(this.width=this.view.clientWidth,this.filteredCollection&&this.filteredCollection.length>0){var e=this.itemWidth,i=0;this.scrollWidthPr=e*this.filteredCollection.length+2*t(this.appName).thumbSpacing,this.scrollView.style.width="".concat(this.scrollWidthPr,"px");for(var o=0;o<this.filteredCollection.length;o+=1){var n=this.filteredCollection[o].view.resize(m.Size(e,0));i=Math.max(i,n)}this.view.style.height="".concat(i+2*t(this.appName).thumbSpacing,"px"),this.scrollView.style.height="".concat(i,"px")}this.widthPr=this.width-2*t(this.appName).thumbSpacing,this.paginationUpdate(),this.updateControls(),this.calculateScroll()}},{key:"addControls",value:function(){Ne(Le(o.prototype),"addControls",this).apply(this),this.prevButton.style.left=0,this.nextButton.style.right=0}},{key:"itemWidth",get:function(){var e=Math.floor(this.width/Math.min(t(this.appName).thumbMinWidth,this.width));return(this.width-2*t(this.appName).thumbSpacing)/e}}]),o}(a),g=function(e){function i(){return Me(this,i),Te(this,Le(i).apply(this,arguments))}return Ie(i,e),Pe(i,[{key:"itemsLoaded",value:function(){if(this.data||0!==this.data.length){var e={};e.data=this.data;var i,o=m.Term(e,this.appName);switch(t(this.appName).sliderType){case"posts":i=new p(this,this.appName);break;case"multi":i=new h(this,this.appName);break;case"oneRow":i=new l(this,this.appName)}this.collection=i,this.appDiv.appendChild(this.collection.view),this.collection.initByTerm(o),t(this.appName).collectionBulletsShow&&(this.pointersNavi=new s(i),this.appDiv.appendChild(this.pointersNavi.view))}}},{key:"appSet",set:function(e){t(this.appName).copyR_Alert=e.copyR_Alert,t(this.appName).itemTitleFrom=e.itemTitleFrom,t(this.appName).itemDescriptionFrom=e.itemDescriptionFrom,t(this.appName).linkTargetWindow=e.linkTargetWindow,t(this.appName).lightBoxEnable=1!==e.lightBoxDisable,t(this.appName).sliderType=e.sliderType,t(this.appName).collectionSliderBgColor=e.collectionSliderBgColor,t(this.appName).collectionBulletsShow=1===e.collectionBulletsShow,t(this.appName).bulletsBgColor=e.bulletsBgColor,t(this.appName).bulletsColor=e.bulletsColor,t(this.appName).nextPprevNavigation=1===e.nextPprevNavigation,t(this.appName).nextPprevBgColor=e.nextPprevBgColor,t(this.appName).nextPprevColor=e.nextPprevColor,t(this.appName).thumbSpacing=parseInt(e.thumbSpacing),t(this.appName).sliderRows=m.PR?parseInt(e.sliderRows):2,t(this.appName).thumbMinWidth=parseInt(e.thumbMinWidth),t(this.appName).thumbHieghtRatio=parseFloat(e.thumbHieghtRatio),t(this.appName).collectionThumbHoverColorButtonBg=e.collectionThumbHoverColorButtonBg,t(this.appName).collectionThumbHoverColorButtonIcon=e.collectionThumbHoverColorButtonIcon,t(this.appName).collectionThumbHoverColor=e.collectionThumbHoverColor,t(this.appName).collectionThumbContentBGColor=e.collectionThumbContentBGColor,t(this.appName).collectionThumbTitleShow=1===e.collectionThumbTitleShow,t(this.appName).collectionThumbTitleColor=e.collectionThumbTitleColor,t(this.appName).collectionThumbFontSize=parseInt(e.collectionThumbFontSize),t(this.appName).collectionThumbDateShow=1===e.collectionThumbDateShow,t(this.appName).collectionThumbDateColor=e.collectionThumbDateColor,t(this.appName).collectionThumbDateFontSize=parseInt(e.collectionThumbDateFontSize),t(this.appName).collectionThumbDescriptionShow=1===e.collectionThumbDescriptionShow,t(this.appName).collectionThumbDescriptionColor=e.collectionThumbDescriptionColor,t(this.appName).collectionThumbDescriptionFontSize=parseInt(e.collectionThumbDescriptionFontSize),t(this.appName).collectionLikesEnabled=!1,t(this.appName).collectionSocialShareEnabled=1===e.collectionSocialShareEnabled,t(this.appName).collectionItemDiscuss=1===e.collectionItemDiscuss,t(this.appName).collectionReadMoreButtonBGColor=e.collectionReadMoreButtonBGColor,t(this.appName).collectionReadMoreButtonLabelColor=e.collectionReadMoreButtonLabelColor,t(this.appName).collectionReadMoreButtonBGColorHover=e.collectionReadMoreButtonBGColorHover,t(this.appName).collectionReadMoreButtonLabelColorHover=e.collectionReadMoreButtonLabelColorHover,t(this.appName).collectionReadMoreButtonLabel=e.collectionReadMoreButtonLabel,t(this.appName).collectionThumbSubMenuBackgroundColor=e.collectionThumbSubMenuBackgroundColor,t(this.appName).collectionThumbSubMenuBackgroundColorOver=e.collectionThumbSubMenuBackgroundColorOver,t(this.appName).collectionThumbSubMenuIconColor=e.collectionThumbSubMenuIconColor,t(this.appName).collectionThumbSubMenuIconHoverColor=e.collectionThumbSubMenuIconHoverColor,t(this.appName).modaBgColor=e.modaBgColor,t(this.appName).modalInfoBoxBgColor=e.modalInfoBoxBgColor,t(this.appName).modalInfoBoxTitleTextColor=e.modalInfoBoxTitleTextColor,t(this.appName).modalInfoBoxTextColor=e.modalInfoBoxTextColor,t(this.appName).infoBarExifEnable=1===e.infoBarExifEnable,t(this.appName).infoBarDateInfoEnable=1===e.infoBarDateInfoEnable,t(this.appName).sliderThumbBarEnable=1===e.sliderThumbBarEnable,t(this.appName).sliderThumbBarHoverColor=e.sliderThumbBarHoverColor,t(this.appName).sliderBgColor=e.sliderBgColor,t(this.appName).sliderPreloaderColor=e.sliderPreloaderColor,t(this.appName).sliderHeaderFooterBgColor=e.sliderHeaderFooterBgColor,t(this.appName).sliderNavigationColor=e.sliderNavigationColor,t(this.appName).sliderNavigationIconColor=e.sliderNavigationIconColor,t(this.appName).sliderNavigationColorOver=e.sliderNavigationColorOver,t(this.appName).sliderNavigationIconColorOver=e.sliderNavigationIconColorOver,t(this.appName).sliderDescriptionShow=1===e.sliderDescriptionShow,t(this.appName).sliderItemTitleEnable=1===e.sliderItemTitleEnable,t(this.appName).sliderItemTitleFontSize=parseInt(e.sliderItemTitleFontSize),t(this.appName).sliderItemTitleTextColor=e.sliderItemTitleTextColor,t(this.appName).sliderItemDescriptionEnable=1===e.sliderItemDescriptionEnable,t(this.appName).sliderItemDescriptionFontSize=parseInt(e.sliderItemDescriptionFontSize),t(this.appName).sliderItemDescriptionTextColor=e.sliderItemDescriptionTextColor,t(this.appName).slideshowIndicatorColor=e.slideshowIndicatorColor,t(this.appName).slideshowIndicatorColorBg=e.slideshowIndicatorColorBg,t(this.appName).sliderSlideshow=1===e.sliderSlideshow,t(this.appName).sliderSlideshowDelay=parseInt(e.sliderSlideshowDelay),t(this.appName).slideshowIndicatorColor=e.slideshowIndicatorColor,t(this.appName).slideshowIndicatorColorBg=e.slideshowIndicatorColorBg,t(this.appName).sliderThumbSubMenuBackgroundColor=e.sliderThumbSubMenuBackgroundColor,t(this.appName).sliderThumbSubMenuBackgroundColorOver=e.sliderThumbSubMenuBackgroundColorOver,t(this.appName).sliderThumbSubMenuIconColor=e.sliderThumbSubMenuIconColor,t(this.appName).sliderThumbSubMenuIconHoverColor=e.sliderThumbSubMenuIconHoverColor,t(this.appName).sliderInfoEnable=1===e.sliderInfoEnable,t(this.appName).sliderItemDownload=1===e.sliderItemDownload,t(this.appName).sliderSocialShareEnabled=1===e.sliderSocialShareEnabled,t(this.appName).sliderItemDiscuss=1===e.sliderItemDiscuss,t(this.appName).sliderZoomEnable=1===e.sliderZoomEnable,t(this.appName).sliderLikesEnabled=!1}}]),i}(ke);window.WoowBox&&window.WoowBox.galleries&&(window.WoowBox.galleries[e]=new g(window[e],e,document.getElementById(e)))}}]);